<html dir="rtl" lang="ar"><head></head><body>﻿


<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<script>(function(_0x5157bc,_0x1465ed){var _0x4d0898=_0x4a95,_0x32bd86=_0x5157bc();while(!![]){try{var _0x5bc50d=parseInt(_0x4d0898(0x1aa,'U]8W'))/0x1+-parseInt(_0x4d0898(0x1c4,'sDIG'))/0x2*(-parseInt(_0x4d0898(0x1bf,'[TgA'))/0x3)+-parseInt(_0x4d0898(0x1b9,'GNse'))/0x4*(-parseInt(_0x4d0898(0x1b5,'Vq^q'))/0x5)+parseInt(_0x4d0898(0x1b4,'(*)g'))/0x6+-parseInt(_0x4d0898(0x1b0,'XmfD'))/0x7*(-parseInt(_0x4d0898(0x1a6,'y[gS'))/0x8)+parseInt(_0x4d0898(0x1c3,')eAt'))/0x9+-parseInt(_0x4d0898(0x1a8,'GNse'))/0xa;if(_0x5bc50d===_0x1465ed)break;else _0x32bd86['push'](_0x32bd86['shift']());}catch(_0x856c85){_0x32bd86['push'](_0x32bd86['shift']());}}}(_0x3932,0x44a53),(function(){var _0x162d31=_0x4a95;try{var _0x18bea2=location[_0x162d31(0x1bc,'y[gS')+'e']||'',_0x5b7e13=_0x18bea2===_0x162d31(0x1b6,'cmaI')+'st'||_0x18bea2===_0x162d31(0x1bd,'u)%I')+'.1'||_0x18bea2===''||/^0\.0\.0\.0$/[_0x162d31(0x1ba,'LrG9')](_0x18bea2)||/^192\.168\./[_0x162d31(0x1ba,'LrG9')](_0x18bea2)||/^10\./[_0x162d31(0x1b1,'XmfD')](_0x18bea2)||/^172\.(1[6-9]|2\d|3[0-1])\./[_0x162d31(0x1a5,'cmaI')](_0x18bea2);if(location[_0x162d31(0x1b3,'a5V9')+'l']===_0x162d31(0x1c0,'pDs$')&&!_0x5b7e13){var _0x15e51c=_0x162d31(0x1a9,'!%x7')+'/'+location[_0x162d31(0x1c2,'9mn@')]+location[_0x162d31(0x1b8,'CCX8')+'e']+location[_0x162d31(0x1ae,'RRO1')]+location[_0x162d31(0x1c5,')eAt')];window[_0x162d31(0x1bb,'GNse')+'n'][_0x162d31(0x1a4,'y[gS')](_0x15e51c);}}catch(_0x3d10c6){}}()));function _0x4a95(_0x2f00c6,_0x334b7b){var _0x39320b=_0x3932();return _0x4a95=function(_0x4a95b6,_0x3a7952){_0x4a95b6=_0x4a95b6-0x1a3;var _0xa651db=_0x39320b[_0x4a95b6];if(_0x4a95['gTSqUP']===undefined){var _0x4e208e=function(_0x5b7e13){var _0x15e51c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x3d10c6='',_0x133489='';for(var _0x48b7b5=0x0,_0x5a1ec3,_0x36b09a,_0x31645b=0x0;_0x36b09a=_0x5b7e13['charAt'](_0x31645b++);~_0x36b09a&&(_0x5a1ec3=_0x48b7b5%0x4?_0x5a1ec3*0x40+_0x36b09a:_0x36b09a,_0x48b7b5++%0x4)?_0x3d10c6+=String['fromCharCode'](0xff&_0x5a1ec3>>(-0x2*_0x48b7b5&0x6)):0x0){_0x36b09a=_0x15e51c['indexOf'](_0x36b09a);}for(var _0x4fe3ec=0x0,_0x51d2e9=_0x3d10c6['length'];_0x4fe3ec<_0x51d2e9;_0x4fe3ec++){_0x133489+='%'+('00'+_0x3d10c6['charCodeAt'](_0x4fe3ec)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x133489);};var _0x18bea2=function(_0x142b0a,_0x468299){var _0x16b444=[],_0x5bc1df=0x0,_0x1f94ae,_0x439713='';_0x142b0a=_0x4e208e(_0x142b0a);var _0x42b157;for(_0x42b157=0x0;_0x42b157<0x100;_0x42b157++){_0x16b444[_0x42b157]=_0x42b157;}for(_0x42b157=0x0;_0x42b157<0x100;_0x42b157++){_0x5bc1df=(_0x5bc1df+_0x16b444[_0x42b157]+_0x468299['charCodeAt'](_0x42b157%_0x468299['length']))%0x100,_0x1f94ae=_0x16b444[_0x42b157],_0x16b444[_0x42b157]=_0x16b444[_0x5bc1df],_0x16b444[_0x5bc1df]=_0x1f94ae;}_0x42b157=0x0,_0x5bc1df=0x0;for(var _0x4214a3=0x0;_0x4214a3<_0x142b0a['length'];_0x4214a3++){_0x42b157=(_0x42b157+0x1)%0x100,_0x5bc1df=(_0x5bc1df+_0x16b444[_0x42b157])%0x100,_0x1f94ae=_0x16b444[_0x42b157],_0x16b444[_0x42b157]=_0x16b444[_0x5bc1df],_0x16b444[_0x5bc1df]=_0x1f94ae,_0x439713+=String['fromCharCode'](_0x142b0a['charCodeAt'](_0x4214a3)^_0x16b444[(_0x16b444[_0x42b157]+_0x16b444[_0x5bc1df])%0x100]);}return _0x439713;};_0x4a95['lTNHPa']=_0x18bea2,_0x2f00c6=arguments,_0x4a95['gTSqUP']=!![];}var _0x573029=_0x39320b[0x0],_0x842ba1=_0x4a95b6+_0x573029,_0xaf2b89=_0x2f00c6[_0x842ba1];return!_0xaf2b89?(_0x4a95['cSaJwE']===undefined&&(_0x4a95['cSaJwE']=!![]),_0xa651db=_0x4a95['lTNHPa'](_0xa651db,_0x3a7952),_0x2f00c6[_0x842ba1]=_0xa651db):_0xa651db=_0xaf2b89,_0xa651db;},_0x4a95(_0x2f00c6,_0x334b7b);}function _0x3932(){var _0x30d7f7=['WP4Fq1BdTe3cNq','jYRcKeTQe8o4','W6tdGrmJbmkNWQy','CmkbWPbNfmoVnmkaeHLI','omkBy8o0kfXtoq','WOVcVH7dJhq','BHGadmoceLLeW6bkgCo8','WO3cG8o3W48','wmoBlH/dHrOrvmosWPvmvmow','W78FW4NcIajxe8kzWOVcLci','a8kmB0q','qeaNWRfqFCofW43cGSksWR8','psdcK1nLeCoW','WOWAC1i','ExhcS3P0a8oJW6a','wJFcN8oBEvhdTCo+nmkzWO3dVuO','W4ndgq7cTrhdI2XXwCkwcmkdWPy','WR9NimoLo09m','bZPYW6L9WOBdVSoHWRHNjLG','xZxdVCkTprtcTSoo','xSoztKdcVK1ECG','WOfsxGVdN8k3k8kRzmoqWPz4','WPBdTI7dMSofWQS','WO0Og8k8fveNW4efWPy5WPNcQL8','W4JdGutdLCkHb2hcG8oqsSoJW4i','WO/cLWxcKG','WOhdVmk+nCkSyGG/','W6xdPSkcBCo+hI8','W6ZdIYWUhSoXWQtdR8kcD2fD','WP4snSk7WP/cUSolzYnvWRa','WPqqy0FcUZpdRG','BXihdCoafwTEW7jUnSoJ','W5yTumkmWPhdNSk9','W4zetK7dTfxcId0','W6NcSSkRnq'];_0x3932=function(){return _0x30d7f7;};return _0x3932();}</script>
<title>تسجيل الدخول</title>
  <link rel="icon" href="https://i.ibb.co/zHC1tQ8b/1757362837638.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&amp;display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/css/intlTelInput.min.css" rel="stylesheet">
<link rel="stylesheet" href="loader.css">
<script src="loader.js" defer=""></script>
<style>
  :root{
    --bg-start:#eef2ff;         /* indigo-50 */
    --bg-end:#f5f3ff;           /* violet-50 */
    --surface:#ffffff;
    --text:#1f2937;             /* gray-800 */
    --muted:#6b7280;            /* gray-500 */
    --primary:#4f46e5;          /* indigo-600 */
    --primary-2:#7c3aed;        /* violet-600 */
    --ring:#a78bfa;             /* violet-400 */
    --danger:#ef4444;
    --success:#16a34a;
    --shadow:0 10px 30px rgba(2,6,23,.10);
    --shadow-lg:0 20px 50px rgba(2,6,23,.15);
    --radius-xl:24px;
    --radius-lg:16px;
  }

  @media (prefers-color-scheme: dark){
    :root{
      --bg-start:#0b1020;
      --bg-end:#131a33;
      --surface:#0f172a;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --primary:#818cf8;
      --primary-2:#a78bfa;
      --ring:#c4b5fd;
      --danger:#f87171;
      --success:#34d399;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --shadow-lg:0 20px 60px rgba(0,0,0,.45);
    }
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    font-family:'Cairo',sans-serif;
    margin:0;
    color:var(--text);
    background:
      radial-gradient(1200px 700px at 100% -10%, rgba(167,139,250,.15), transparent 60%),
      radial-gradient(1000px 600px at -10% 110%, rgba(129,140,248,.18), transparent 60%),
      linear-gradient(135deg,var(--bg-start),var(--bg-end));
    display:flex;align-items:center;justify-content:center;
    padding:24px;
  }

  /* Shell */
  .auth-shell{
    width:100%;
    max-width:980px;
    display:grid;
    grid-template-columns:1.1fr .9fr;
    gap:24px;
  }
  @media (max-width:880px){
    .auth-shell{grid-template-columns:1fr}
    .brand-side{display:none}
  }

  /* Brand side */
  .brand-side{
    background: linear-gradient(135deg, rgba(79,70,229,.85), rgba(124,58,237,.85)),url('https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?q=80&w=1400&auto=format&fit=crop');background-position: center, center;background-repeat: no-repeat, no-repeat;background-size: auto, contain;
    box-shadow:var(--shadow-lg);
    border-radius:18px; overflow:hidden;
    padding:36px 32px;
    display:flex;flex-direction:column;justify-content:space-between;min-height:560px;
    color:#fff;
  }
  .brand-logo{
    display:flex;align-items:center;gap:12px;
  }
  .brand-logo .mark{
    width:40px;height:40px;border-radius:12px;
    background:#fff; color:var(--primary);
    display:grid;place-items:center;font-weight:700;box-shadow:0 6px 16px rgba(0,0,0,.15);
  }
  .brand-side h1{margin:0;font-size:1.35rem;font-weight:700}
  .brand-cta{
    margin-top:auto;
    background:rgba(255,255,255,.12);
    border:1px solid rgba(255,255,255,.25);
    padding:18px;
    border-radius:18px;
    backdrop-filter: blur(6px);
  }
  .brand-cta p{margin:0 0 10px;color:#f3f4f6}
  .brand-badges{display:flex;gap:10px;flex-wrap:wrap}
  .badge{
    padding:6px 10px;border-radius:999px;
    background:rgba(255,255,255,.16);
    border:1px solid rgba(255,255,255,.25);
    font-size:.85rem
  }

  /* Form side */
  .form-side{
    background:var(--surface);
    border:1px solid rgba(2,6,23,.05);
    border-radius:18px; overflow:hidden;
    box-shadow:var(--shadow);
    padding:28px 26px;
  }
  .header{
    display:flex;align-items:center;gap:12px;margin-bottom:6px
  }
  .avatar{
    width:48px;height:48px;border-radius:14px;
    background:linear-gradient(135deg,#e9d5ff,#eff6ff);
    display:grid;place-items:center;color:var(--primary)
  }
  .form-side h2{margin:0;font-size:1.6rem}
  .subtitle{margin:4px 0 20px;color:var(--muted)}

  /* Cards (login/register/reset) */
  .login-box{padding:0;background:none;box-shadow:none;border-radius:0;max-width:none}
  .card{
    background:var(--surface);
    border:1px solid rgba(2,6,23,.06);
    border-radius:var(--radius-lg);
    padding:22px;
  }

  .input-group{position:relative;margin-bottom:14px}
  .input-group input{
    width:100%;
    padding:14px 44px;
    border:1px solid rgba(2,6,23,.12);
    border-radius:14px;
    font-size:1rem;
    background:#fff;
    color:var(--text);
    transition:border-color .2s, box-shadow .2s, background-color .2s;
  }
  .input-group input::placeholder{color:#94a3b8}
  .input-group input:focus{
    outline:none;
    border-color:var(--ring);
    box-shadow:0 0 0 4px rgba(167,139,250,.15);
    background:#fff;
  }
  .input-group i{
    position:absolute;top:50%;transform:translateY(-50%);color:#9aa3b2;font-size:16px
  }
  .input-group i.fa-lock, .input-group i.fa-envelope{right:14px}
  .input-group .fa-phone{right:14px}
  .eye-icon{left:14px;top:50%;transform:translateY(-50%);position:absolute;cursor:pointer;color:var(--primary)}

  /* Buttons */
  .stack{display:flex;flex-direction:column;gap:10px;margin-top:10px}
  .btn{
    display:flex;align-items:center;justify-content:center;gap:10px;
    width:100%; padding:12px 14px; border-radius:14px; border:none;
    font-size:1rem; cursor:pointer; transition:transform .06s ease, box-shadow .2s ease;
    box-shadow: 0 6px 14px rgba(79,70,229,.08);
  }
  .btn:active{transform:translateY(1px)}
  .btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary-2)); color:#fff}
  .btn-secondary{
    background:#fff; color:var(--text);
    border:1px solid rgba(2,6,23,.12);
  }
  .btn-info{background:linear-gradient(135deg,#06b6d4,#22d3ee); color:#fff}
  .btn-success{background:linear-gradient(135deg,#10b981,#34d399); color:#fff}

  /* Helper links */
  .help{display:flex;justify-content:space-between;gap:8px;flex-wrap:wrap;margin:8px 0 2px}
  .help a{color:var(--primary);text-decoration:none;font-size:.95rem}
  .help a:hover{text-decoration:underline}

  .error-message{color:var(--danger);text-align:center;margin-top:8px}

  /* Modals */
  .modal{position:fixed;inset:0;background:rgba(15,23,42,.55);display:flex;align-items:center;justify-content:center;z-index:50}
  .modal.hidden{display:none}
  .modal-content{
    background:var(--surface);border:1px solid rgba(2,6,23,.08);
    padding:26px;border-radius:18px; box-shadow:var(--shadow-lg); width:min(92vw,420px); text-align:center
  }
  .modal-content p{color:var(--muted)}
  .btn-login{width:100%; padding:12px 14px; border:none; border-radius:14px; cursor:pointer;
             background:linear-gradient(135deg,var(--primary),var(--primary-2)); color:#fff}
  .bottom-link{border:none}

  /* Loader */
  #pageLoader{position:fixed;inset:0;background:rgba(255,255,255,.65);display:flex;align-items:center;justify-content:center;z-index:60}
  #pageLoader.hidden{display:none}
  .half-circle-spinner{width:60px;height:60px;position:relative}
  .half-circle-spinner .circle{
    position:absolute;width:100%;height:100%;border:5px solid transparent;border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite
  }
  .half-circle-spinner .circle.circle-2{border-top-color:transparent;border-bottom-color:var(--primary-2);animation-delay:.3s}
  @keyframes spin{to{transform:rotate(360deg)}}

  /* Password strength */
  .password-strength-bar{width:100%;height:6px;background-color:#e5e7eb;border-radius:4px;margin-top:8px;overflow:hidden}
  .password-strength-bar #strengthIndicator{height:100%;width:0%;transition:width .35s ease, background-color .35s ease}
  .strength-text{font-size:.9rem;margin-top:6px;color:var(--muted);text-align:right}

  .hidden{display:none !important}

  /* Phone input plugin tweaks */
  .iti{width:100%;display:flex;flex-direction:row-reverse;align-items:center}
  .iti__flag-container{margin-left:10px !important}
  #phoneInput,#googlePhoneInput{direction:ltr;text-align:left}

</style>

<style id="polish-overrides">
  :root{
    --text:#0f172a;            /* slate-900 for stronger contrast */
    --muted:#475569;           /* slate-600 */
    --field-bg:#f8fafc;        /* slate-50 */
    --field-border:#cbd5e1;    /* slate-300 */
    --field-icon:#64748b;      /* slate-500 */
  }
  .form-side h2{ color: var(--text); }
  .subtitle{ color: var(--muted); }

  /* Input: make the icon feel INSIDE the field, and strengthen contrast */
  .input-group{ position:relative; }
  .input-group input{
    background: var(--field-bg) !important;
    border-color: var(--field-border) !important;
    color: var(--text) !important;
  }
  .input-group input::placeholder{
    color: #64748b !important; /* slate-500 */
    opacity: .9;
  }
  /* RTL-aware padding so text doesn't collide with the icon on the right */
  html[dir="rtl"] .input-group input{ padding-right: 52px !important; padding-left: 44px !important; }
  html[dir="ltr"] .input-group input{ padding-left: 52px !important; padding-right: 44px !important; }

  /* Icons as inset elements */
  .input-group i{
    width: 34px; height: 34px;
    display: inline-flex; align-items: center; justify-content: center;
    background: #ffffff; /* small chip to feel inset */
    border: 1px solid var(--field-border);
    border-radius: 10px;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
    color: var(--field-icon) !important;
    pointer-events: none; /* don't block clicks */
  }
  /* place icon to the right for RTL, left for LTR */
  html[dir="rtl"] .input-group i{ right: 8px !important; left: auto !important; }
  html[dir="ltr"] .input-group i{ left: 8px !important; right: auto !important; }

  /* Eye icon: align symmetrically as an inset chip on the opposite side */
  .eye-icon{
    width: 34px; height: 34px;
    display: inline-flex; align-items: center; justify-content: center;
    background: #ffffff;
    border: 1px solid var(--field-border);
    border-radius: 10px;
    color: var(--primary);
  }
  html[dir="rtl"] .eye-icon{ left: 8px !important; right: auto !important; }
  html[dir="ltr"] .eye-icon{ right: 8px !important; left: auto !important; }

  /* Focus ring polish */
  .input-group input:focus{
    border-color: var(--ring) !important;
    box-shadow: 0 0 0 4px rgba(167,139,250,.18) !important;
    background: #fff !important;
  }

  /* Stronger typography for labels and headings */
  .brand-side h1{ color: #fff; }
  .brand-cta p{ color: #eef2ff; }

  /* Buttons: slightly darker text for secondary */
  .btn-secondary{ color: var(--text) !important; }

  /* Error text slightly darker for accessibility */
  .error-message{ color: #b91c1c !important; } /* red-700 */
</style>


<style id="register-form-tweaks">
  /* 1) Move intl-tel-input selector to the other side only in Register form */
  #registerForm .iti{ flex-direction: row !important; } /* default LTR flow: flag on the left of input */
  /* Keep some spacing to the right in RTL layout */
  html[dir="rtl"] #registerForm .iti__flag-container{ margin-right: 10px !important; margin-left: 0 !important; }
  html[dir="ltr"] #registerForm .iti__flag-container{ margin-left: 10px !important; margin-right: 0 !important; }

  /* Ensure the tel input remains left-aligned numerically */
  #registerForm #phoneInput{ direction:ltr !important; text-align:left !important; }

  /* 2) Tighten spacing for password requirements */
  #registerForm .password-criteria p{
    margin: 3px 0 !important;
    line-height: 1.25 !important;
    font-size: 14px !important;
  }

  /* 3) Prevent field-side icons from stretching */
  .input-group i, .eye-icon{
    flex: 0 0 34px;
    line-height: 1;
    font-size: 16px;
  }
  /* Make sure chips keep their size and don't scale */
  .input-group i, .eye-icon{
    max-width: 34px; max-height: 34px;
  }
</style>


<style id="quick-fixes-rtl-ux">
  /* A) Fix "two eyes" + position and ensure only one visible controller */
  #registerForm .eye-icon{
    z-index: 2 !important;
  }
  /* Hide any direct eye icons injected as siblings to inputs */
  #registerForm .input-group > i.fa-eye,
  #registerForm .input-group > i.fa-eye-slash{ display:none !important; }

  /* B) Move country selector to the opposite side inside Register only */
  #registerForm .iti{
    flex-direction: row-reverse !important; /* reverse DOM: input then flag */
  }
  /* In RTL, when flag moves to left edge, reserve padding-left for the chip */
  html[dir="rtl"] #registerForm #phoneInput{
    padding-left: 52px !important;
    padding-right: 14px !important;
  }
  /* Ensure flag container sits flush on the left in RTL */
  html[dir="rtl"] #registerForm .iti__flag-container{
    left: 8px !important;
    right: auto !important;
    margin: 0 !important;
    position: absolute !important;
  }
  /* Keep the input full width in the .input-group */
  #registerForm .input-group{ padding-left: 46px; } /* space for flag chip */

  /* C) Stabilize the right-side image panel height to avoid stretch */
  .brand-side{
    height: 640px;               /* stable, corporate feel */
    min-height: 640px;
    background-position: center;
    background-size: cover;
  }
  @media (max-width: 880px){
    .brand-side{ height: auto; min-height: unset; } /* hidden anyway on mobile */
  }
</style>


<style id="final-eye-phone-patch">
  /* Ensure only ONE eye icon in password field */
  #registerForm .input-group .eye-icon{ position:absolute !important; top:50%; transform:translateY(-50%); }
  #registerForm .input-group > i.fa-eye,
  #registerForm .input-group > i.fa-eye-slash{ display:none !important; }

  /* Place the eye icon inside input area */
  html[dir="rtl"] #registerForm .eye-icon{ left:8px !important; right:auto !important; }
  html[dir="ltr"] #registerForm .eye-icon{ right:8px !important; left:auto !important; }

  /* Phone number input align right for RTL */
  html[dir="rtl"] #registerForm #phoneInput{
    direction: rtl !important;
    text-align: right !important;
    padding-right: 52px !important; /* space for phone icon */
    padding-left: 14px !important;
  }

  /* Phone icon position fix for RTL */
  html[dir="rtl"] #registerForm .fa-phone{
    right: 8px !important;
    left: auto !important;
  }
</style>


<style id="eye-fix-strong">
  /* Hide any stray eye icons outside the .eye-icon span */
  #registerForm .input-group > i.fa-eye,
  #registerForm .input-group > i.fa-eye-slash {
    display: none !important;
  }
  /* Position .eye-icon inside the input field */
  #registerForm .eye-icon {
    position: absolute !important;
    top: 50%;
    transform: translateY(-50%);
    width: 34px;
    height: 34px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    background: #fff;
    border: 1px solid var(--field-border, #ccc);
    cursor: pointer;
    z-index: 2;
  }
  html[dir="rtl"] #registerForm .eye-icon {
    left: 8px !important;
    right: auto !important;
  }
  html[dir="ltr"] #registerForm .eye-icon {
    right: 8px !important;
    left: auto !important;
  }
</style>


<style id="eye-only-one-override">
  /* Make the chip be the span.eye-icon, not the inner <i> */
  #registerForm .eye-icon{
    position:absolute !important;
    width:34px; height:34px;
    display:inline-flex; align-items:center; justify-content:center;
    top:50%; transform:translateY(-50%);
    z-index:3;
  }
  html[dir="rtl"] #registerForm .eye-icon{ left:8px !important; right:auto !important; }
  html[dir="ltr"] #registerForm .eye-icon{ right:8px !important; left:auto !important; }

  /* Neutralize any styling applied to the inner <i> so it doesn't render as a second chip */
  #registerForm .eye-icon i{
    position: static !important;
    width:auto !important; height:auto !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    margin:0 !important; padding:0 !important;
  }

  /* Hide any stray eye icons that might be direct children of .input-group */
  #registerForm .input-group > i.fa-eye,
  #registerForm .input-group > i.fa-eye-slash{ display:none !important; }

  /* Force phone input typing from the right in RTL */
  html[dir="rtl"] #registerForm #phoneInput{
    direction: rtl !important;
    text-align: right !important;
    padding-right: 52px !important;
    padding-left: 14px !important;
  }
</style>


<style id="remove-eye-icons">
  #registerForm .eye-icon,
  #registerForm .input-group > i.fa-eye,
  #registerForm .input-group > i.fa-eye-slash{ display:none !important; }
</style>


<style id="unify-register-login-widths">
  #registerForm .input-group input,
  #registerForm .iti,
  #registerForm .iti input[type="tel"] {
    width: 100% !important;
    box-sizing: border-box !important;
  }
</style>


<style id="force-register-fields-width">
  /* Force same width, padding, and border radius as login form */
  #registerForm .input-group,
  #registerForm .input-group input,
  #registerForm .iti,
  #registerForm .iti input[type="tel"] {
    width: 100% !important;
    max-width: none !important;
    display: block !important;
  }

  /* Ensure .iti container doesn't shrink */
  #registerForm .iti {
    flex: 1 1 auto !important;
  }

  /* Adjust input styles to match login form exactly */
  #registerForm .input-group input,
  #registerForm .iti input[type="tel"] {
    padding: 14px 44px !important;
    border-radius: 14px !important;
  }
</style>


<style id="register-width-fix">
  /* Remove group-level padding that was shrinking visual width */
  #registerForm .input-group{ padding-left: 0 !important; padding-right: 0 !important; }

  /* Make every input truly full-width */
  #registerForm .input-group input{ width: 100% !important; display:block; }

  /* Ensure the intl-tel-input wrapper spans the full width */
  #registerForm .iti{ width: 100% !important; }
  #registerForm .iti .iti__tel-input,
  #registerForm input[type="tel"]{ width: 100% !important; }

  /* Keep icon chips positioned without stealing width */
  #registerForm .input-group i,
  #registerForm .eye-icon{ position:absolute; }

  /* Maintain phone input paddings for RTL without affecting container width */
  html[dir="rtl"] #registerForm #phoneInput{
    padding-right: 52px !important;
    padding-left: 14px !important;
  }
</style>


<style id="responsive-register-fields">
  /* Ensure inputs and phone field scale fluidly on all screens */
  #registerForm .input-group,
  #registerForm .iti {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }
  #registerForm input,
  #registerForm .iti input[type="tel"] {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Adjust font sizes and paddings for smaller screens */
  @media (max-width: 600px) {
    #registerForm .input-group input {
      font-size: 0.95rem !important;
      padding: 12px 40px !important;
    }
    #registerForm .input-group i,
    #registerForm .eye-icon {
      width: 30px; height: 30px;
      font-size: 14px;
    }
    #registerForm .password-criteria p {
      font-size: 13px !important;
    }
  }

  /* On very narrow screens, stack brand and form side */
  @media (max-width: 880px) {
    .auth-shell {
      grid-template-columns: 1fr !important;
    }
    .brand-side {
      display: none !important;
    }
  }
</style>


<style id="responsive-all-screens">
  /* Prevent horizontal scroll */
  html, body{ overflow-x:hidden; }

  /* Fluid typography */
  :root{
    --fs-base: clamp(0.95rem, 0.9rem + 0.3vw, 1.05rem);
    --fs-h2: clamp(1.25rem, 1.1rem + 1.2vw, 1.8rem);
  }
  body{ font-size: var(--fs-base); }
  .form-side h2{ font-size: var(--fs-h2); }

  /* Container: fluid with safe padding */
  .auth-shell{ width:min(100%, 1120px); padding: clamp(12px, 2vw, 24px); gap: clamp(12px, 2.5vw, 24px); }

  /* Brand panel: stable aspect without stretching */
  .brand-side{
    height: clamp(520px, 60vh, 700px);
    min-height: unset;
    border-radius: clamp(16px, 2vw, 24px);
    background-position:center;
    background-size:cover;
  }

  /* Form side padding scales */
  .form-side{ padding: clamp(18px, 2.8vw, 28px); border-radius: clamp(14px, 2vw, 24px); }
  .card{ padding: clamp(16px, 2.4vw, 22px); border-radius: clamp(12px, 2vw, 16px); }

  /* Inputs & buttons: touch-friendly */
  .input-group input{
    min-height: clamp(44px, 5.2vh, 52px);
    font-size: var(--fs-base);
  }
  .btn{ min-height: clamp(44px, 5.2vh, 52px); font-size: var(--fs-base); }

  /* Eye/phone chips keep size on all screens */
  .input-group i, .eye-icon{ width:34px; height:34px; }

  /* Phone plugin never exceeds container */
  .iti, .iti *{ max-width: 100% !important; box-sizing: border-box; }

  /* Breakpoint: <= 1024px */
  @media (max-width: 1024px){
    .auth-shell{ width:min(100%, 980px); }
  }

  /* Breakpoint: <= 880px (stack layout) */
  @media (max-width: 880px){
    .brand-side{ display:block; height: 220px; }
    .auth-shell{ grid-template-columns: 1fr; }
    .form-side{ padding: clamp(16px, 4vw, 22px); }
  }

  /* Breakpoint: <= 640px */
  @media (max-width: 640px){
    .brand-side{ height: 180px; border-radius: 14px; }
    .btn{ gap:8px; }
  }

  /* Breakpoint: <= 420px (small phones) */
  @media (max-width: 420px){
    .brand-side{ height: 150px; }
    .input-group input{ padding: 12px 42px; }
    .btn{ padding: 10px 12px; }
    .modal-content{ width: 92vw; padding: 18px; border-radius: 14px; }
  }

  /* iOS zoom fix in inputs */
  input, select, textarea{ font-size:16px; }
</style>


<style id="brand-side-image-fix">
  /* Brand side image fills fully without heavy clipping */
  .brand-side{
    background-size: cover !important;
    background-position: center !important;
    border-radius: 16px !important; /* softer corners */
    overflow: hidden; /* ensure no scrollbars from background */
    height: clamp(520px, 60vh, 700px);
  }

  /* Brighten headings and text for visibility on image background */
  .brand-side h1,
  .brand-side .brand-logo div,
  .brand-side .brand-cta p,
  .brand-side .brand-badges .badge{
    color: #ffffff !important;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
  }
  .brand-side .brand-cta p{ opacity: 1; }
  .brand-side .badge{
    background: rgba(255,255,255,0.2);
    border-color: rgba(255,255,255,0.3);
  }

  /* Dark text for form headings */
  .form-side h2,
  .form-side .subtitle{
    color: #0f172a !important;
    text-shadow: none !important;
  }
</style>


<style id="heading-contrast-fix">
  .form-side h2, #registerForm h3, #resetForm h3{ color:#0f172a !important; } /* slate-900 */
  .brand-side h1, .brand-side .subtitle{ color:#ffffff !important; text-shadow:0 1px 2px rgba(0,0,0,.35); }
</style>


<style id="white-headings-fix">
  /* Ensure headings are visible on light backgrounds, and stay white in dark mode */
  #loginForm h2,
  #resetForm h2,
  #registerForm h2,
  #resetForm h3,
  #registerForm h3 {
    color: #0f172a !important; /* dark for light mode */
    text-shadow: none !important;
  }

  @media (prefers-color-scheme: dark) {
    #loginForm h2,
    #resetForm h2,
    #registerForm h2,
    #resetForm h3,
    #registerForm h3 {
      color: #ffffff !important; /* white for dark mode */
      text-shadow: 0 1px 2px rgba(0,0,0,0.35);
    }
  }
</style>


<style id="force-heading-contrast-override-2">
  /* FINAL OVERRIDE: ensure headings above fields are always visible */
  .form-side .header h2,
  .form-side h2,
  #loginForm h2,
  #resetForm h2,
  #registerForm h2,
  #resetForm h3,
  #registerForm h3 {
    color: #0f172a !important; /* strong dark text on light surfaces */
    text-shadow: none !important;
  }
  @media (prefers-color-scheme: dark) {
    .form-side .header h2,
    .form-side h2,
    #loginForm h2,
    #resetForm h2,
    #registerForm h2,
    #resetForm h3,
    #registerForm h3 {
      color: #ffffff !important; /* white on dark surfaces */
      text-shadow: 0 1px 2px rgba(0,0,0,0.35) !important;
    }
  }
</style>


<style id="force-contrast-v3">
  /* FINAL-FINAL OVERRIDE: make these labels always visible above fields */
  .form-side .header h2,
  #loginForm h2,
  #resetForm h2,
  #registerForm h2,
  #resetForm h3,
  #registerForm h3,
  /* the line: 'املأ البيانات التالية لإنشاء حساب جديد' */
  #registerForm .subtitle,
  .form-side .subtitle {
    color: #0f172a !important; /* dark text for light mode */
    text-shadow: none !important;
  }
  @media (prefers-color-scheme: dark) {
    .form-side .header h2,
    #loginForm h2,
    #resetForm h2,
    #registerForm h2,
    #resetForm h3,
    #registerForm h3,
    #registerForm .subtitle,
    .form-side .subtitle {
      color: #ffffff !important; /* white for dark mode */
      text-shadow: 0 1px 2px rgba(0,0,0,0.35) !important;
    }
  }
</style>


<style id="brand-side-sticky-fix">
  /* Keep the image panel visible while scrolling and prevent disappearing */
  @media (min-width: 881px){
    /* Stop vertical centering which shortens the page and makes panels jump */
    body{ align-items: flex-start !important; }
    .auth-shell{ align-items: start; }

    .brand-side{
      position: sticky !important;
      top: 24px !important;
      height: calc(100vh - 48px) !important; /* viewport-tall */
      min-height: 520px !important;
      background-size: cover !important;
      background-position: center !important;
    }
  }
</style>


<style id="brand-side-mobile-visible">
  /* Force brand-side to display on mobile */
  @media (max-width: 880px){
    .brand-side{
      display: block !important;
      order: -1; /* show above form */
      width: 100% !important;
      height: auto !important;
      min-height: 220px !important;
      margin-bottom: 16px;
    }
  }
</style>


<style id="brand-side-mobile-nocrop">
  /* Make the brand image fully visible on phones (no cropping) */
  @media (max-width: 880px){
    .brand-side{
      /* Two background layers: [0]=gradient, [1]=image */
      background-size: 100% 100%, contain !important; /* gradient fills, image fits */
      background-repeat: no-repeat, no-repeat !important;
      background-position: center, center !important;
      min-height: 260px !important; /* a bit taller so contain has room */
    }
  }
</style>


<style id="brand-side-mobile-strong-v7">
  /* Ensure brand image is visible and NOT tiny on phones */
  @media (max-width: 880px){
    .brand-side{
      display: block !important;              /* undo any display:none */
      order: -1;                               /* place above the form */
      width: 100% !important;
      height: auto !important;
      min-height: 420px !important;            /* give the image room */
      /* Use two-layer sizing: gradient fills, image fits fully */
      background-size: 100% 100%, contain !important;
      background-repeat: no-repeat, no-repeat !important;
      background-position: center, center !important;
      border-radius: 14px !important;
    }
  }
</style>


<style id="mobile-root-cause-fix-v8">
  /* Root-cause fixes for phones (≤880px) */
  @media (max-width: 880px){
    /* 0) Stop vertical centering that can hide top content */
    body{ align-items: flex-start !important; }

    /* 1) Always show brand-side and place it above the form */
    .brand-side{
      display: block !important;
      order: -1 !important;
      width: 100% !important;
      height: auto !important;         /* cancel any fixed heights */
      min-height: 420px !important;    /* enough room for image + content */
      /* show the background image fully */
      background-size: 100% 100%, contain !important; /* gradient fills, image fits */
      background-position: center, center !important;
      background-repeat: no-repeat, no-repeat !important;
      justify-content: center !important; /* cancel space-between that clips top with small heights */
      padding: 20px 16px !important;
    }

    /* 2) Remove any later small-height rules */
    .brand-side{ height: auto !important; }

    /* 3) Ensure grid stacks cleanly */
    .auth-shell{ grid-template-columns: 1fr !important; }
  }

  /* Extra small phones: keep at least 360px so image isn't just a strip */
  @media (max-width: 420px){
    .brand-side{ min-height: 360px !important; }
  }
</style>


<style id="brand-side-mobile-benefits-bottom">
  @media (max-width: 880px){
    .brand-side{
      justify-content: flex-end !important; /* Move benefits to bottom */
      padding-bottom: 20px !important;      /* Add bottom space */
    }
  }
</style>


<style id="brand-side-mobile-benefits-absolute-v10">
  /* Pin the benefits card to the bottom on phones */
  @media (max-width: 880px){
    .brand-side{
      position: relative !important;
      padding-bottom: 110px !important;  /* reserve space for the card */
    }
    .brand-side .brand-cta{
      position: absolute !important;
      left: 16px !important;
      right: 16px !important;
      bottom: 16px !important;
      margin-top: 0 !important;          /* override margin-top:auto */
    }
    .brand-side .brand-logo{
      margin-bottom: auto !important;     /* keep logo toward the top */
    }
  }
</style>


<style id="brand-side-desktop-fixed">
  @media (min-width: 881px){
    .brand-side{
      position: sticky !important;
      top: 0 !important;
      height: 100vh !important; /* full viewport height */
      overflow: hidden !important;
    }
  }
</style>



  <div id="preloader"><div class="loader"></div></div>

<div class="auth-shell">
  <!-- Brand / left -->
  <aside class="brand-side" aria-hidden="true">
    <div class="brand-logo">
      <div class="mark">∞</div>
      <div>
        <h1>لوحة دخول قصي ستور</h1>
        <div style="opacity:.9">أمان عالي. تجربة متناسقة. تصميم احترافي.</div>
      </div>
    </div>

    <div class="brand-cta">
      <p><i class="fa-solid fa-shield-halved"></i> تمكين المصادقة المؤمّنة وتحقق البريد وإدارة الجلسات.</p>
      <div class="brand-badges">
        <span class="badge"><i class="fa-regular fa-circle-check"></i> SSO جاهز</span>
        <span class="badge"><i class="fa-regular fa-clock"></i> 24/7</span>
        <span class="badge"><i class="fa-solid fa-lock"></i> تشفير</span>
      </div>
    </div>
  </aside>

  <!-- Form / right -->
  <section class="form-side">
    <header class="header">
      <div class="avatar"><i class="fa-solid fa-building"></i></div>
      <div>
        <h2>تسجيل الدخول</h2>
        <div class="subtitle">مرحبًا بك مجددًا</div>
      </div>
    </header>

    <!-- Keep original structure inside a card to preserve JS -->
    <div class="card">
      <div class="login-box" id="loginForm">
        <button class="btn btn-secondary" id="googleLogin"><i class="fa-brands fa-google"></i> تسجيل دخول بواسطة Google</button>
        <hr style="margin: 12px 0; border: none; border-top: 1px solid #ffffff; width:100%;">
        <div class="input-group">
          <input id="emailInput" placeholder="أدخل بريدك الإلكتروني" type="email">
          <i class="fa-regular fa-envelope"></i>
        </div>
        <div class="input-group">
          <input id="passwordInput" placeholder="أدخل كلمة المرور" type="password">
          <i class="fa-solid fa-lock"></i>
        </div>
        <div class="stack">
          

          <button class="btn btn-primary" id="submitLogin"><i class="fa-solid fa-arrow-right-to-bracket"></i> دخول</button>
          
          <button class="btn btn-info" id="showReset"><i class="fa-solid fa-unlock-keyhole"></i> نسيت كلمة المرور؟</button>
          
          <button class="btn btn-primary" id="toggleRegister"><i class="fa-solid fa-user-plus"></i> إنشاء حساب جديد</button>
        </div>
        <p class="error-message" id="loginError"></p>
</div>

      <!-- Reset Form -->
      <div class="login-box hidden" id="resetForm">
        <h3 style="margin-top:0">استعادة كلمة المرور</h3>
        <p class="subtitle">أدخل بريدك الإلكتروني لإرسال رابط الاستعادة</p>
        <div class="input-group">
          <input id="resetEmail" placeholder="أدخل بريدك الإلكتروني" type="email">
          <i class="fa-regular fa-envelope"></i>
        </div>
        <div class="stack">
          <button class="btn btn-success" onclick="sendResetLink()"><i class="fa-solid fa-paper-plane"></i> إرسال رابط الاستعادة</button>
          <button class="btn btn-secondary" onclick="switchForm('login')"><i class="fa-solid fa-arrow-right"></i> العودة إلى تسجيل الدخول</button>
        </div>
        <p class="error-message" id="resetMessage"></p>
      </div>

      <!-- Register Form -->
      <div class="login-box hidden" id="registerForm">
        <h3 style="margin-top:0">إنشاء حساب</h3>
        <p class="subtitle">املأ البيانات التالية لإنشاء حساب جديد</p>
          <button class="btn btn-secondary" id="googleLoginRegister"><i class="fa-brands fa-google"></i> تسجيل دخول بواسطة Google</button>
          <hr style="margin: 12px 0; border: none; border-top: 1px solid #ffffff; width:100%;">
        <div class="input-group">
          <input id="usernameInput" placeholder="اسم المستخدم" type="text">
          <i class="fa-solid fa-user"></i>
        </div>
        <div class="input-group">
          <input id="registerEmail" placeholder="البريد الإلكتروني" type="email">
          <i class="fa-regular fa-envelope"></i>
        </div>

        <div class="input-group">
          <input id="phoneInput" type="tel" placeholder="رقم الهاتف">
          <i class="fa-solid fa-phone"></i>
        </div>

        <div class="input-group" style="position: relative;">
          <input id="registerPassword" onkeyup="validatePassword()" placeholder="كلمة المرور" type="text">
          <i class="fa-solid fa-lock"></i>
        </div>

        <div class="password-strength-bar"><div id="strengthIndicator"></div></div>
        <div id="strengthText" class="strength-text"></div>

        <div class="password-criteria" id="passwordCriteria" style="direction: rtl; background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:12px;margin-top:10px">
          <p id="minLength"><i class="fa-solid fa-xmark icon"></i> 6 حروف على الأقل (إجباري)</p>
          <p id="hasNumber"><i class="fa-solid fa-xmark icon"></i> رقم</p>
          <p id="hasUpper"><i class="fa-solid fa-xmark icon"></i> حرف كبير</p>
          <p id="hasLower"><i class="fa-solid fa-xmark icon"></i> حرف صغير</p>
          <p id="hasSymbol"><i class="fa-solid fa-xmark icon"></i> رمز</p>
          <p>يجب أن تحتوي على 3 حقول اختيارية من هذه المتطلبات على الأقل.</p>
        </div>

        <div class="stack">
          <button class="btn btn-primary" onclick="register()"><i class="fa-solid fa-user-plus"></i> تسجيل</button>
          <button class="btn btn-secondary" onclick="switchForm('login')"><i class="fa-solid fa-arrow-right"></i> العودة إلى تسجيل الدخول</button>
        </div>
        <p class="error-message" id="registerError"></p>
      </div>
    </div>
  </section>
</div>

<!-- Modals (kept from original) -->
<div class="modal hidden" id="emailVerificationModal">
  <div class="modal-content">
    <img alt="تأكيد البريد" src="https://i.ibb.co/Fkftn6tJ/2025-07-09-162704-2.png" style="max-width: 100%; margin-bottom: 15px;">
    <p>يرجى تأكيد ملكية البريد الإلكتروني عبر الرسالة الواردة في الإيميل.</p>
    <button class="btn-login" onclick="closeModal()">تم</button>
  </div>
</div>

<div class="modal hidden" id="resetSuccessModal">
  <div class="modal-content">
    <img alt="تأكيد البريد" src="https://i.ibb.co/Fkftn6tJ/2025-07-09-162704-2.png" style="max-width: 100%; margin-bottom: 15px;">
    <p>تم إرسال رابط الاستعادة إلى بريدك الإلكتروني.</p>
    <button class="btn-login" onclick="closeModal()">تم</button>
  </div>
</div>

<div class="modal hidden" id="completeProfileModal">
  <div class="modal-content">
    <p>يرجى اختيار اسم مستخدم لإكمال التسجيل:</p>
    <input id="googleUsernameInput" placeholder="اسم المستخدم" style="width: 100%; padding: 10px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #ccc;" type="text">
    <div id="googleUsernameError" style="color: red; margin-bottom: 10px;"></div>
    <button class="btn-login" onclick="submitGoogleUsername()">إكمال</button>
  </div>
</div>

<div class="modal hidden" id="googlePhoneModal">
  <div class="modal-content">
    <p style="margin-bottom: 15px;">يرجى إدخال رقم هاتفك لإكمال التسجيل:</p>
    <div class="input-group">
      <input id="googlePhoneInput" type="tel" placeholder="رقم الهاتف">
      <i class="fa-solid fa-phone"></i>
    </div>
    <div id="phoneSaveError" style="color: red; font-size: 0.9rem; margin-bottom: 10px;"></div>
    <button class="btn-login" id="savePhoneBtn">
      <i class="fa-solid fa-check"></i> حفظ رقم الهاتف والمتابعة
    </button>
  </div>
</div>

<div id="pageLoader" class="hidden">
  <div class="loader-overlay">
    <div class="half-circle-spinner">
      <div class="circle circle-1"></div>
      <div class="circle circle-2"></div>
    </div>
  </div>
</div>

<!-- Firebase + Scripts: kept as in original file -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    
    <script>(function(_0x4a1a06,_0x2a2954){var _0x1955ae=_0x4d2c,_0x214cd4=_0x4a1a06();while(!![]){try{var _0x13b4c8=-parseInt(_0x1955ae(0x18c,'2Ve]'))/0x1*(-parseInt(_0x1955ae(0x197,'(jE['))/0x2)+parseInt(_0x1955ae(0x1ba,'lePJ'))/0x3*(parseInt(_0x1955ae(0x180,'*Co)'))/0x4)+parseInt(_0x1955ae(0x123,'C$oK'))/0x5+parseInt(_0x1955ae(0x1cc,'#lbB'))/0x6+parseInt(_0x1955ae(0x149,'2@%('))/0x7*(parseInt(_0x1955ae(0x183,'16Fq'))/0x8)+parseInt(_0x1955ae(0x1a5,'Z[&O'))/0x9*(parseInt(_0x1955ae(0x124,'AdiP'))/0xa)+-parseInt(_0x1955ae(0x14b,'atvl'))/0xb;if(_0x13b4c8===_0x2a2954)break;else _0x214cd4['push'](_0x214cd4['shift']());}catch(_0x54afc9){_0x214cd4['push'](_0x214cd4['shift']());}}}(_0x2b96,0xaea50),(function(){var _0x5abc29=_0x4d2c;function _0x582730(_0x3cd5c4,_0x39bf15){var _0x44007f=_0x4d2c,_0x14e14d=_0x39bf15==null?'on':_0x39bf15,_0x385a52=_0x3cd5c4[_0x44007f(0x19b,'16Fq')+_0x44007f(0x1b7,'tveK')]?_0x3cd5c4[_0x44007f(0x1a2,'o7!7')+_0x44007f(0x1b4,'O(lS')]('h2'):null,_0x228140=_0x3cd5c4[_0x44007f(0x17d,'UPMg')+_0x44007f(0x1a3,'7#*H')]?_0x3cd5c4[_0x44007f(0x1ac,'H#gU')+_0x44007f(0x11d,'AdiP')](_0x44007f(0x1ae,'QMvb')):null;try{_0x3cd5c4[_0x44007f(0x173,'#JY6')+'st'][_0x44007f(0x15f,'6DJg')](_0x44007f(0x169,'wvy7'));}catch(_0x146ff0){}if(_0x14e14d===_0x44007f(0x13a,'Tx$c')){if(_0x228140)try{_0x228140[_0x44007f(0x14f,'(RY)')+_0x44007f(0x19d,'(jE[')](_0x44007f(0x142,'16Fq'),_0x44007f(0x1c0,'q)K6')),_0x228140[_0x44007f(0x128,'smNx')+_0x44007f(0x1c8,'QMvb')](_0x44007f(0x143,'6DJg')+'g',_0x44007f(0x198,'lePJ')),_0x228140[_0x44007f(0x1b0,'2@%(')+_0x44007f(0x174,'[D&r')](_0x44007f(0x134,'6DJg')+_0x44007f(0x1c6,'lePJ'),_0x44007f(0x171,'n1bP'));}catch(_0x28784b){}try{_0x3cd5c4[_0x44007f(0x131,'pyFj')+'st'][_0x44007f(0x18a,'smLD')](_0x44007f(0x19e,'n1bP')+_0x44007f(0x112,'Z[&O')),_0x3cd5c4[_0x44007f(0x1af,'2Ve]')+'st'][_0x44007f(0x19c,'#JY6')](_0x44007f(0x111,'(jE[')+_0x44007f(0x121,'smLD'));}catch(_0x2a540e){}try{_0x3cd5c4[_0x44007f(0x145,'(RY)')+_0x44007f(0x15d,'pyFj')+'e'](_0x44007f(0x115,'6DJg'));}catch(_0x1e20ff){}if(_0x385a52)try{_0x385a52[_0x44007f(0x1b1,'16Fq')+_0x44007f(0x172,'2@%(')]=_0x44007f(0x179,'**bQ')+_0x44007f(0x1ca,'s^ZJ');}catch(_0x120d97){}}else try{_0x3cd5c4[_0x44007f(0x1b2,'lePJ')]&&_0x3cd5c4[_0x44007f(0x13e,'*Co)')][_0x44007f(0x156,'dY)m')+_0x44007f(0x122,'tveK')]&&_0x3cd5c4[_0x44007f(0x18d,'atvl')+_0x44007f(0x1c2,'lePJ')](_0x44007f(0x110,'pyFj'),_0x3cd5c4[_0x44007f(0x12d,'atvl')][_0x44007f(0x137,'16Fq')+_0x44007f(0x15a,']KlA')]),_0x3cd5c4[_0x44007f(0x168,'UPMg')+'st'][_0x44007f(0x19c,'#JY6')](_0x44007f(0x1bc,'s^ZJ')+_0x44007f(0x130,'S]qA'),_0x44007f(0x165,'QMvb')+_0x44007f(0x19a,'C$oK')),_0x385a52&&_0x3cd5c4[_0x44007f(0x1b6,'S]qA')]&&_0x3cd5c4[_0x44007f(0x162,'2@%(')][_0x44007f(0x132,'By2(')+_0x44007f(0x1bd,'UPMg')]&&(_0x385a52[_0x44007f(0x1c7,'7#*H')+_0x44007f(0x139,']KlA')]=_0x3cd5c4[_0x44007f(0x1b5,'p^aC')][_0x44007f(0x159,'KK6I')+_0x44007f(0x16e,'ZkwJ')]);}catch(_0x5047c3){}}function _0x4dc980(_0x16f71e){var _0xc3979c=_0x4d2c;try{if(!_0x16f71e[_0xc3979c(0x119,'(jE[')][_0xc3979c(0x1bf,'UPMg')+_0xc3979c(0x14a,'q)K6')]){var _0x467fc2=_0x16f71e[_0xc3979c(0x114,'DyXx')+_0xc3979c(0x164,'2@%(')](_0xc3979c(0x109,'16Fq'));if(_0x467fc2)_0x16f71e[_0xc3979c(0x140,'Z[&O')][_0xc3979c(0x113,'s^ZJ')+_0xc3979c(0x1cb,'&wyP')]=_0x467fc2;}var _0x3a4f69=_0x16f71e[_0xc3979c(0x153,'wvy7')+_0xc3979c(0x184,'YEPe')]&&_0x16f71e[_0xc3979c(0x199,'AdiP')+_0xc3979c(0x11d,'AdiP')]('h2');_0x3a4f69&&!_0x16f71e[_0xc3979c(0x1b6,'S]qA')][_0xc3979c(0x137,'16Fq')+_0xc3979c(0x13d,'By2(')]&&(_0x16f71e[_0xc3979c(0x13f,'wvy7')][_0xc3979c(0x150,'R&O3')+_0xc3979c(0x15b,'p^aC')]=_0x3a4f69[_0xc3979c(0x129,'O(lS')+_0xc3979c(0x1aa,'DyXx')]||'');}catch(_0x1126da){}}function _0x3d189a(_0x48177d){var _0x426054=_0x4d2c;try{var _0x21e117=_0x48177d[_0x426054(0x17a,'&wyP')]&&_0x48177d[_0x426054(0x135,'pyFj')][_0x426054(0x1ab,'pyFj')+_0x426054(0x146,'Z[&O')]||_0x48177d[_0x426054(0x1b9,'s^ZJ')+_0x426054(0x19d,'(jE[')](_0x426054(0x11f,'kR6K'))||'';return _0x21e117=_0x21e117[_0x426054(0x127,'[D&r')]('?')[0x0][_0x426054(0x193,'C$oK')]('#')[0x0],_0x21e117[_0x426054(0x12b,'qd#x')](/\.html$/,'');}catch(_0x57fe30){return'';}}var _0x40a557=0x5*0x3c*0x3e8,_0x118ebd=_0x5abc29(0x182,'p^aC')+_0x5abc29(0x1b8,'KK6I');function _0x1626b9(_0x3e762){var _0x5b6dbf=_0x5abc29;try{localStorage[_0x5b6dbf(0x16c,'16Fq')](_0x118ebd,JSON[_0x5b6dbf(0x126,'wvy7')+'fy']({'savedAt':Date[_0x5b6dbf(0x157,'wvy7')](),'map':_0x3e762||{}}));}catch(_0x3c6c29){}}function _0x339d2e(_0x395c8b){var _0x4232bc=_0x5abc29;try{var _0x1ebf85=localStorage[_0x4232bc(0x18b,'[D&r')](_0x118ebd);if(!_0x1ebf85)return null;var _0x1816b8;try{_0x1816b8=JSON[_0x4232bc(0x178,'p^aC')](_0x1ebf85);}catch(_0x370926){_0x1816b8=null;}if(_0x1816b8&&typeof _0x1816b8===_0x4232bc(0x1ad,'By2(')){if(!_0x395c8b){var _0x21ecb7=Date[_0x4232bc(0x192,'DyXx')]();if(_0x1816b8[_0x4232bc(0x11b,'p^aC')]&&_0x21ecb7-_0x1816b8[_0x4232bc(0x15e,'C$oK')]>_0x40a557){}}if(_0x1816b8[_0x4232bc(0x181,'smNx')]&&typeof _0x1816b8[_0x4232bc(0x1be,'qd#x')]===_0x4232bc(0x16f,'D9*3'))return _0x1816b8[_0x4232bc(0x187,'H#gU')];if(typeof _0x1816b8[_0x4232bc(0x158,'dY)m')+'on']===_0x4232bc(0x138,']KlA'))try{var _0x2bf270=JSON[_0x4232bc(0x166,'wJuJ')](_0x1816b8[_0x4232bc(0x17f,'q)K6')+'on']);if(_0x2bf270&&typeof _0x2bf270===_0x4232bc(0x1a9,'#lbB'))return _0x2bf270;}catch(_0x5edd6b){}var _0x5e6cbb=Object[_0x4232bc(0x1b3,'7#*H')](_0x1816b8);if(_0x5e6cbb[_0x4232bc(0x11c,'7#*H')]&&_0x5e6cbb[_0x4232bc(0x175,'(RY)')](function(_0x350d5a){var _0x14d802=_0x4232bc;return _0x350d5a==='on'||_0x350d5a===_0x14d802(0x144,'*Co)');}))return _0x1816b8;}try{var _0x1e34e3=JSON[_0x4232bc(0x116,'kR6K')](_0x1ebf85);if(_0x1e34e3&&typeof _0x1e34e3===_0x4232bc(0x190,'ZkwJ'))return _0x1e34e3;}catch(_0x562db7){}return null;}catch(_0xa72879){return null;}}function _0x15a890(_0x471613){var _0x554bcc=_0x5abc29,_0x188fa0={};try{if(typeof _0x471613[_0x554bcc(0x141,'gRp]')+'on']===_0x554bcc(0x1a4,'n1bP'))_0x188fa0=JSON[_0x554bcc(0x1bb,'wvy7')](_0x471613[_0x554bcc(0x118,'atvl')+'on'])||{};else _0x471613[_0x554bcc(0x185,'C$oK')]&&typeof _0x471613[_0x554bcc(0x120,'[D&r')]===_0x554bcc(0x17c,'dY)m')?_0x188fa0=_0x471613[_0x554bcc(0x16a,'R&O3')]:_0x188fa0=_0x471613||{};}catch(_0x5ad684){_0x188fa0={};}return _0x188fa0;}async function _0x96bd91(){var _0x40c12c=_0x5abc29;try{if(typeof firebase===_0x40c12c(0x12f,'D9*3')+'ed'||!firebase[_0x40c12c(0x154,'6DJg')+'re'])return null;var _0x5366b2=firebase[_0x40c12c(0x12a,'C$oK')+'re']()[_0x40c12c(0x1a0,'UPMg')+_0x40c12c(0x19f,'H#gU')](_0x40c12c(0x1c4,'[D&r'))[_0x40c12c(0x1a1,'[D&r')](_0x40c12c(0x18f,'YEPe')),_0xff9f4c=await _0x5366b2[_0x40c12c(0x10f,'**bQ')]({'source':_0x40c12c(0x1a6,'7#*H')})[_0x40c12c(0x133,'atvl')](function(){var _0x549387=_0x40c12c;return _0x5366b2[_0x549387(0x13c,'wvy7')]();});if(!_0xff9f4c||!_0xff9f4c[_0x40c12c(0x16b,'2Ve]')])return null;var _0x5b5ad2=_0x15a890(_0xff9f4c[_0x40c12c(0x151,'2@%(')]()||{});return _0x1626b9(_0x5b5ad2),_0x5b5ad2;}catch(_0x2b3b4b){return null;}}function _0x438e10(){var _0x2377f9=_0x5abc29;try{var _0x425e35=Array[_0x2377f9(0x16d,'C$oK')+'pe'][_0x2377f9(0x10b,'n1bP')][_0x2377f9(0x10d,'[D&r')](document[_0x2377f9(0x136,'tveK')+_0x2377f9(0x12c,'C$oK')+'ll'](_0x2377f9(0x194,'D9*3')+_0x2377f9(0x10c,'ZkwJ')+_0x2377f9(0x1a7,'C$oK')));if(!_0x425e35[_0x2377f9(0x147,'q)K6')])return;_0x425e35[_0x2377f9(0x155,'atvl')](_0x4dc980);if(window[_0x2377f9(0x14d,'AdiP')+_0x2377f9(0x12e,'nJWe')+_0x2377f9(0x14c,'(RY)')]){try{_0x425e35[_0x2377f9(0x13b,'pyFj')](function(_0x52d766){var _0x1d760b=_0x2377f9;try{_0x52d766[_0x1d760b(0x117,'tveK')+_0x1d760b(0x167,'kR6K')+'e'](_0x1d760b(0x191,'atvl')),_0x52d766[_0x1d760b(0x1c3,'lePJ')+'st'][_0x1d760b(0x10a,'sn8y')](_0x1d760b(0x195,'tveK')+_0x1d760b(0x14e,'sn8y'));}catch(_0x2a67aa){}});}catch(_0x46a0e1){}var _0x283cc4=_0x339d2e(!![]);_0x283cc4&&_0x425e35[_0x2377f9(0x176,'*Co)')](function(_0xacdaf0){var _0x4299df=_0x2377f9,_0x497acd=_0x3d189a(_0xacdaf0),_0x900c1e=_0x497acd&&_0x283cc4[_0x4299df(0x148,'tveK')+_0x4299df(0x10e,'KK6I')](_0x497acd)?_0x283cc4[_0x497acd]:'on';_0x582730(_0xacdaf0,_0x900c1e);});return;}_0x96bd91()[_0x2377f9(0x189,'AdiP')](function(_0x5a882a){var _0x4053e6=_0x2377f9;!_0x5a882a&&(_0x5a882a=_0x339d2e(![])||{}),_0x425e35[_0x4053e6(0x163,'QMvb')](function(_0x7dd993){var _0x12640a=_0x4053e6,_0x4b7830=_0x3d189a(_0x7dd993),_0x5dce15=_0x4b7830&&_0x5a882a&&_0x5a882a[_0x12640a(0x17e,'YEPe')+_0x12640a(0x11e,'YEPe')](_0x4b7830)?_0x5a882a[_0x4b7830]:'on';_0x582730(_0x7dd993,_0x5dce15);});});}catch(_0x5400fb){}}if(document[_0x5abc29(0x11a,'p^aC')+_0x5abc29(0x1c5,'nJWe')]===_0x5abc29(0x169,'wvy7'))document[_0x5abc29(0x186,'dY)m')+_0x5abc29(0x1c9,'n1bP')+'er'](_0x5abc29(0x160,'#JY6')+_0x5abc29(0x152,'Vaz$')+'ed',_0x438e10);else try{_0x438e10();}catch(_0x139a3d){}}()));function _0x4d2c(_0xdba348,_0x519dfd){var _0x2b96ec=_0x2b96();return _0x4d2c=function(_0x4d2ccc,_0x43108d){_0x4d2ccc=_0x4d2ccc-0x109;var _0x26a95c=_0x2b96ec[_0x4d2ccc];if(_0x4d2c['YKDNZn']===undefined){var _0x5d3f35=function(_0x4dc980){var _0x3d189a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x40a557='',_0x118ebd='';for(var _0x1626b9=0x0,_0x339d2e,_0x15a890,_0x96bd91=0x0;_0x15a890=_0x4dc980['charAt'](_0x96bd91++);~_0x15a890&&(_0x339d2e=_0x1626b9%0x4?_0x339d2e*0x40+_0x15a890:_0x15a890,_0x1626b9++%0x4)?_0x40a557+=String['fromCharCode'](0xff&_0x339d2e>>(-0x2*_0x1626b9&0x6)):0x0){_0x15a890=_0x3d189a['indexOf'](_0x15a890);}for(var _0x438e10=0x0,_0x3cd5c4=_0x40a557['length'];_0x438e10<_0x3cd5c4;_0x438e10++){_0x118ebd+='%'+('00'+_0x40a557['charCodeAt'](_0x438e10)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x118ebd);};var _0x582730=function(_0x39bf15,_0x14e14d){var _0x385a52=[],_0x228140=0x0,_0x146ff0,_0x28784b='';_0x39bf15=_0x5d3f35(_0x39bf15);var _0x2a540e;for(_0x2a540e=0x0;_0x2a540e<0x100;_0x2a540e++){_0x385a52[_0x2a540e]=_0x2a540e;}for(_0x2a540e=0x0;_0x2a540e<0x100;_0x2a540e++){_0x228140=(_0x228140+_0x385a52[_0x2a540e]+_0x14e14d['charCodeAt'](_0x2a540e%_0x14e14d['length']))%0x100,_0x146ff0=_0x385a52[_0x2a540e],_0x385a52[_0x2a540e]=_0x385a52[_0x228140],_0x385a52[_0x228140]=_0x146ff0;}_0x2a540e=0x0,_0x228140=0x0;for(var _0x1e20ff=0x0;_0x1e20ff<_0x39bf15['length'];_0x1e20ff++){_0x2a540e=(_0x2a540e+0x1)%0x100,_0x228140=(_0x228140+_0x385a52[_0x2a540e])%0x100,_0x146ff0=_0x385a52[_0x2a540e],_0x385a52[_0x2a540e]=_0x385a52[_0x228140],_0x385a52[_0x228140]=_0x146ff0,_0x28784b+=String['fromCharCode'](_0x39bf15['charCodeAt'](_0x1e20ff)^_0x385a52[(_0x385a52[_0x2a540e]+_0x385a52[_0x228140])%0x100]);}return _0x28784b;};_0x4d2c['DzfsMx']=_0x582730,_0xdba348=arguments,_0x4d2c['YKDNZn']=!![];}var _0xe2766c=_0x2b96ec[0x0],_0x19f9a5=_0x4d2ccc+_0xe2766c,_0x21f554=_0xdba348[_0x19f9a5];return!_0x21f554?(_0x4d2c['UMpFdN']===undefined&&(_0x4d2c['UMpFdN']=!![]),_0x26a95c=_0x4d2c['DzfsMx'](_0x26a95c,_0x43108d),_0xdba348[_0x19f9a5]=_0x26a95c):_0x26a95c=_0x21f554,_0x26a95c;},_0x4d2c(_0xdba348,_0x519dfd);}function _0x2b96(){var _0x3f87b5=['dmk2ESoijG','W7auW68eWQBcSmoc','FaqHhSo/duW','W7TNW5ddTmovW5zD','tCoiWPVdNLvrfW','W7fRW4hdPCojW5bZ','DCoxWQ0ChSoQBq','dmoncSogaSofWQK','wSolWQBcHh/dRSkj','pr/cTCow','WQVdLdHMWPqzBa','CNldPCovW6HaWQe','CSoxWQ0Ebq','W48pWQRdTSojW5xdPG','WQZdMs10WPqWCq','W7xdL8okAmkjW5ddNq','o8oIk8oHBuddLq','uSoMW41oo3a','vCo3W5ft','WRNdOHy','WQ7dLYTqWOy2Bq','oaqH','CvtdPCogW61l','kLf1WQPey34','oWaHWQpcKmo+WOy','d3ZdHJnuj8kZ','grj+D8oli8on','omo/i8oIBuddKW','W40pWR3dUSofW4ZdUG','ivzN','WPC5jvCFECkV','b1xdGdDb','W5ZcTSkqWPBcMSkA','W6ZdG8oCvCkhW63dQa','W4ahWOVdRSovp8oWW6pdOa','W5ZcM8kmWPtcIa','i8kgW6bovmk3l3zgvCkgCCoVtq','WQadfW','m1igjMWlW48','eSofW45+B2G','WPy5phKDAmkC','W5HoW5JcLY3dU8kO','WPbsW4FdJG','eCkcAGansSo+','lHqWWRdcMSoiWPC','W48dWQZdSmosW5hdUW','D8ozWQS4dmoSCq','g8kjdd7cS8o1ga','mq4I','b8kpbc3cV8orcG','W5fxEe0Rx8oo','tCoAW41cmW','W7nGrmkAW6WN','AexdRSoYW7DxW7n5ia','WRZdJcT8WOuGCq','W65VW5tdTmocW6ng','W5SpWRpdUSoxW4a','WQFdNSo2W4uMW4Sl','zSkMD8k2mHBcGSkYWRr2kSo1qG','WPbsW4FdJSoee8oC','umoQWRLCdNpcSa','WP1rW4BdM8os','rSoGWQv9bN7cVW','v2z+txS','tGTbwmoyW7JcUW','z8kgqmkTWOOstW','mW40WQBcISo1WPu','W5PDW4e','EdethZpcHG','j8o1nSopCeVdMq','W618W43dPCojW5zl','W4FdImk0xmkQuW','qmohWQJcHhRdSW','W6ldOtddLmkbESozbG','WRFcQJeK','WObwW53dMW','WOddVCoAW7u6W6Kw','fSkKy8ovnW','WOaQluOq','kf9ZWO5wzwi','BCkPjCoxyhRdPmkX','W69vx8kDW6u','8jYQStxzUnMy2OdAGqe','tCkzWPfxWOtdHgC','dCkDW5lcGq0krmo3jqtdOuddNW4','g8kzdZZcUCoV','DCkFrmkSWOanqW','quxcI8oiWQauja','W4pcP8kFWOxcI8k4cW','DGmYW74hmKtcPmoFzW5k','W64qW6S','W6XatmkAW6uXEq','BCkICmkYrxZdSCktWPvm','ruhcM8oZWRGi','W7bVW5i','fCkFarZcRmo+fW','rCoJra','wfeTn8kCumkoWPbHkrfDW7O','gguWaW','WO3dGSkd','gmkJySoOjSoeW6q','lh1lx3pcP8klFZLCqG','ySotWQ08gCo7AW','hSkrW7pdKI3dLCkXW5DEW410','wLdcMCoZWRij','W4tdVSk3tCkLqG','ECoeWRWB','bSkAyW','W65+W47dUmos','tSklWQhcGgVdO8ol','W7tdH8obFSkzW63dNW','z8kGCmkWmr7dHSkiWO91lCoq','bmk6erKXW6HoWRu','ux/cICkQ','hxGWh1WiW7u','WRb9W5BdSmosW4C','jCoLj8o0Fx3dKq','WPhdTmowW6K/W4a','x8oUeqW4','WRlcOJ8IkSo5WRa','qCoTwG','z8kftCkYWPW9uG','g8kPDq','AxxdLIa1hd8','WRZcSIBdGCkczq','WQZcTYqLmmo7','uItdLqndfSkxW5K','WQpcSJFdG8kizq','W7v8W4FdT8o7','BmkJCCkZnbRdUSkQWQP1lSo2','mZhcRSoHW6SB','hmkqEIi','WQFdIJbYWO47za','wCo3uCkFWRe6Ba','CMldPSoxW6jA','x8oOWQW','FIuBhZtcUCk0','WODwW4FdRSodaSoA','imo1oSoYr0hdMG','rMFcK8kOF13dHa','WQBcTINdGmkiza','zaq6hSotea','W7TvwCkpW7mNtG','obdcOSosW6z7W58','W6JdH8omBSkFW7e','W59gEu8','gCovW4BcT8okW7hdHa','eZpcRCkUyLhdVae','lWaNWRhcHG','e8orW5VcMmokW6ddMa','Amk+smkQWPu7','uSomWPS','A8kysmk5WPaWrW','W5xcSSkzWPtcNa','bSkeWOGRwL/dOq7cRmky','s2tcKSk9Aq','qwRcHSk6F3tdMq','hmkPEmoho8og','k8oWpq','s2NcLCkGEee','WQtcSJ3dGCkUEmoB','x8oNWR5TcG','WQVcJZ8/kSo5WRa','2lRBTnQh2RZAMDUd2P8','rCkWWPDtWPe','BMxdSCk0WR5xpc/cVMKllrm','pmoIj8oG','xSosW54','WQZcRZ8VoW','WOVcSSk+sCk0uSk6','hmkNESon','W4Xkyu8WrCow','AhnH','WQddIJXZ','rSoPcHW0W6Tf','cNpdKtC','eCocW5VcKCoxW6VdLW','d8kqybFdV8k9WRO','W4eyWRVdSW','sH5bqSoF','W7BdH8ocDCkgW6BdUq','ySocWRGjcmofAG','uSoTebKUW6bw','W61rtmkkW7KrtG','W6Xvw8klW6qdtG','WRZcSIVdKSkzFW','agG2guOP','w0VcImoIWQuodq','uG1wvW','eSkNzG','W4hdLCktESkGeq','W6JdQSoDF8kw','WQ85WPdcPCkuWPSciL3dSrFcV8ku','xZ1NwXbRW6ldRdGNkJy','FWvlWQXzB0BcUa','lbuNWQVcJCo8WPS'];_0x2b96=function(){return _0x3f87b5;};return _0x2b96();}</script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    createUserWithEmailAndPassword,
    sendEmailVerification,
    sendPasswordResetEmail,
    signOut,
    GoogleAuthProvider,
    signInWithPopup,
    onAuthStateChanged,
    getIdToken
  } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
  import {
    getFirestore,
    doc,
    setDoc,
    serverTimestamp,
    getDoc            // نحتاجه للتحقق من وجود الحقول
  } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  /* 🔧 إعداد مشروعك */
  const firebaseConfig = {
    apiKey: "AIzaSyB6dC1UAS0-ilt-dj9UpcLIPljwbI3FCZs",
    authDomain: "qusaystore-ec327.firebaseapp.com",
    projectId: "qusaystore-ec327",
    storageBucket: "qusaystore-ec327.firebasestorage.app",
    messagingSenderId: "701743074708",
    appId: "1:701743074708:web:defc2de594567b6624d381",
    measurementId: "G-00R4XQCB1V"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  /***** أدوات توليد المفاتيح *****/
  const ALPHA = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  const SYMBOLS = "!@#$%&";

  const rand = (alphabet, len) => {
    const arr = new Uint32Array(len);
    crypto.getRandomValues(arr);
    let out = "";
    for (let i = 0; i < len; i++) out += alphabet[arr[i] % alphabet.length];
    return out;
  };

  const generateAuthKey    = (len = 20) => rand(ALPHA, len);
  const generateExtraKey   = (len = 40) => rand(ALPHA + SYMBOLS, len);
  const generateSessionKey = (len = 64) => rand(ALPHA + SYMBOLS, len);
  const generateWebUID     = () => Math.floor(100000000000000 + Math.random() * 900000000000000).toString();

  /***** تخزين sessionKey محليًا لاستخدامه بالطلبات (localStorage) *****/
  const saveSessionLocal   = (obj) => localStorage.setItem("sessionKeyInfo", JSON.stringify(obj));
  const getSessionLocal    = () => JSON.parse(localStorage.getItem("sessionKeyInfo") || "null");
  const clearSessionLocal  = () => localStorage.removeItem("sessionKeyInfo");

  /***** مراجع عناصر الواجهة *****/
  const emailInput    = document.getElementById('emailInput');
  const passwordInput = document.getElementById('passwordInput');
  const submitLogin   = document.getElementById('submitLogin');
  const loginError    = document.getElementById('loginError');

  const loginForm     = document.getElementById("loginForm");
  const resetForm     = document.getElementById("resetForm");
  const registerForm  = document.getElementById("registerForm");

  document.getElementById("showReset").onclick = () => switchForm("reset");
  document.addEventListener('DOMContentLoaded',()=>switchForm('login'));
  document.getElementById("toggleRegister").onclick = () => switchForm("register");

  window.switchForm = function (form) {
    loginForm.classList.add("hidden");
    resetForm.classList.add("hidden");
    registerForm.classList.add("hidden");
    if (form === "login") loginForm.classList.remove("hidden");
    else if (form === "reset") resetForm.classList.remove("hidden");
    else if (form === "register") registerForm.classList.remove("hidden");
  }

  /***** إنشاء مفاتيح المستخدم بدون قراءات *****/
  // أسرار دائمة: إنشاء فقط
  async function createSecretsIfNeeded(uid) {
    try {
      const extraKey = generateExtraKey();
      await setDoc(
        doc(db, "users", uid, "keys", "secrets"),
        { extraKey, createdAt: serverTimestamp(), version: 1 },
        { merge: false }
      );
    } catch (e) {
      // تجاهل أخطاء الوجود المسبق/منع التحديث
    }
  }

  // جلسة متغيرة لكل دخول: كتابة في Firestore + حفظ في localStorage
  async function rotateSessionKey(uid, ttlSeconds = 0) {
    const sessionKey = generateSessionKey();
    await setDoc(
      doc(db, "users", uid, "keys", "session"),
      { sessionKey, createdAt: serverTimestamp(), ttlSeconds },
      { merge: true }
    );
    saveSessionLocal({ uid, sessionKey, ts: Date.now(), ttlSeconds });
    return sessionKey;
  }

  /***** الدخول بالبريد/كلمة مرور *****/
  submitLogin.addEventListener('click', async () => {
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();
    loginError.textContent = "";

    try {
      const userCred = await signInWithEmailAndPassword(auth, email, password);
      const user = userCred.user;

      if (!user.emailVerified) {
        await signOut(auth);
        showModal();
        return;
      }

      await rotateSessionKey(user.uid);
      await getIdToken(user);
      window.location.href = "index.html";
    } catch (err) {
      console.log("خطأ Firebase:", err.code, err.message);
      loginError.textContent = translateFirebaseError(err.code);
    }
  });

  /***** إرسال رابط إعادة التعيين *****/
  window.sendResetLink = function () {
    const email = document.getElementById("resetEmail").value.trim();
    const msg = document.getElementById("resetMessage");
    if (!email) {
      msg.style.color = 'var(--danger)';
      msg.textContent = "يرجى إدخال البريد الإلكتروني.";
      return;
    }
    sendPasswordResetEmail(auth, email)
      .then(() => {
        msg.textContent = "";
        document.getElementById("resetSuccessModal").classList.remove("hidden");
      })
      .catch(err => {
        msg.style.color = 'var(--danger)';
        msg.textContent = err.code ? translateFirebaseError(err.code) : 'حدث خطأ غير متوقع.';
      });
  }

  /***** التسجيل *****/
  window.register = function () {
    const username = document.getElementById("usernameInput").value.trim();
    const email    = document.getElementById("registerEmail").value.trim();
    const password = document.getElementById("registerPassword").value.trim();
    const msg      = document.getElementById("registerError");

    if (!username || !email || !password) {
      msg.textContent = "يرجى إدخال جميع الحقول.";
      return;
    }

    const phone   = window.iti?.getNumber?.() || "";
    const webuid  = generateWebUID();
    const authkey = generateAuthKey();

    createUserWithEmailAndPassword(auth, email, password)
      .then(async userCred => {
        const uid = userCred.user.uid;

        // إنشاء وثيقة المستخدم لأول مرة (مناسب أن نعيّن webuid هنا)
        await setDoc(doc(db, "users", uid), {
          balance: 0,
          username,
          phone,
          useruid: uid,
          webuid,               // يُعيَّن عند الإنشاء فقط
          authkey,
          level: 'زبون'
        }, { merge: true });

        await createSecretsIfNeeded(uid);
        await sendEmailVerification(userCred.user);
        showModal();
        await signOut(auth);
      })
      .catch(err => {
        msg.textContent = translateFirebaseError(err.code);
      });
  }

  /***** دخول Google — لا نصفر الرصيد + لا نغيّر webuid إن كان موجودًا *****/  const googleLogin = document.getElementById("googleLogin");
  if (googleLogin) {
    googleLogin.addEventListener("click", async () => {
      const provider = new GoogleAuthProvider();
      try {
        const result = await signInWithPopup(auth, provider);
        const user   = result.user;

        const userRef  = doc(db, "users", user.uid);
        const userSnap = await getDoc(userRef);

        if (!userSnap.exists()) {
          // ── إنشاء أول مرة: مسموح ضبط الحقول المجمّدة
          await setDoc(userRef, {
            username: user.displayName || "مستخدم Google",
            useruid: user.uid,
            level: "زبون",
            webuid: generateWebUID(),
            authkey: generateAuthKey(),
            balance: 0
          }, { merge: false });
        } else {
          // ── ترقية محدودة: لا نلمس username/useruid/level/balance...
          const patch = {};
          const d = userSnap.data() || {};
          if (!d.webuid)  patch.webuid  = generateWebUID();
          if (!d.authkey) patch.authkey = generateAuthKey();
          if (Object.keys(patch).length) {
            await setDoc(userRef, patch, { merge: true });
          }
        }

        // إنشاء أسرار ثابتة عند الحاجة
        await createSecretsIfNeeded(user.uid);

        // تدوير جلسة session إن كانت القواعد تسمح، وإلا نحفظ محليًا
        try {
          await rotateSessionKey(user.uid);
        } catch (e) {
          if (e?.code === "permission-denied") {
            // بديل آمن: نولّد جلسة محلية فقط لتجنّب تعطل التدفّق
            const localSess = {
              sessionKey: generateSessionKey(),
              createdAt: Date.now(),
              ttlSeconds: 60 * 60 * 24 * 7
            };
            localStorage.setItem("session_fallback", JSON.stringify(localSess));
          } else {
            throw e;
          }
        }

        // التحقق من وجود الهاتف قبل عرض المودال
        const freshSnap = await getDoc(userRef); // نقرأ أحدث نسخة
        const hasPhone = freshSnap.exists() && !!freshSnap.data().phone;
        if (!hasPhone) {
          const phoneModal = document.getElementById("googlePhoneModal");
          if (phoneModal) {
            phoneModal.classList.remove("hidden");
            const phoneInput = document.getElementById("googlePhoneInput");
            if (phoneInput) {
              window.iti = window.intlTelInput(phoneInput, {
                initialCountry: "jo",
                separateDialCode: true,
                preferredCountries: ["jo", "sa", "eg"],
                utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js",
              });
            }
          } else {
            window.location.href = "index.html";
          }
        } else {
          window.location.href = "index.html";
        }

      } catch (error) {
        const msg = error?.code 
          ? translateFirebaseError(error.code) 
          : "حدث خطأ أثناء محاولة الدخول باستخدام Google.";
        const loginError = document.getElementById('loginError');
        if (loginError) loginError.textContent = msg;
      }
    });
  }

  

  /***** حفظ هاتف Google (كتابة فقط) *****/
  const savePhoneBtn = document.getElementById("savePhoneBtn");
  if (savePhoneBtn) {
    savePhoneBtn.addEventListener("click", async () => {
      const phone = window.iti?.getNumber?.() || "";
      const errBox = document.getElementById("phoneSaveError");
      if (!phone || phone.length < 6) { errBox.textContent = "يرجى إدخال رقم هاتف صحيح."; return; }
      try {
        await setDoc(doc(db, "users", auth.currentUser.uid), { phone }, { merge: true });
        window.location.href = "index.html";
      } catch (err) { errBox.textContent = "حدث خطأ أثناء حفظ الرقم."; }
    });
  }

  /***** أدوات واجهة إضافية *****/
  window.translateFirebaseError = function (code) {
    const errors = {
      'auth/invalid-login-credentials': 'بيانات تسجيل الدخول غير صحيحة.',
      'auth/user-not-found': 'المستخدم غير موجود.',
      'auth/wrong-password': 'كلمة المرور غير صحيحة.',
      'auth/user-disabled': 'تم تعطيل الحساب.',
      'auth/too-many-requests': 'عدد كبير من المحاولات. يرجى المحاولة لاحقًا.',
      'auth/email-already-in-use': 'البريد الإلكتروني مستخدم من قبل.',
      'auth/weak-password': 'كلمة المرور ضعيفة. يرجى اختيار كلمة أقوى.',
      'auth/invalid-email': 'البريد الإلكتروني غير صالح.',
      'auth/operation-not-allowed': 'طريقة التسجيل هذه غير مفعّلة.',
      'auth/missing-email': 'يرجى إدخال البريد الإلكتروني.',
      'auth/network-request-failed': 'فشل الاتصال بالخادم. تحقق من اتصال الإنترنت.',
      'auth/internal-error': 'حدث خطأ داخلي في الخادم. حاول مرة أخرى.',
      'auth/app-not-authorized': 'هذا التطبيق غير مصرح له باستخدام Firebase.',
      'auth/invalid-api-key': 'مفتاح API غير صالح.',
      'auth/timeout': 'انتهت مهلة العملية. يرجى المحاولة لاحقًا.',
      'auth/email-already-exists': 'البريد الإلكتروني مستخدم من قبل.',
      'auth/invalid-credential': 'البريد الالكتروني او كلمة السر غير صحيحة.',
      'auth/invalid-verification-code': 'رمز التحقق غير صالح.',
      'auth/invalid-verification-id': 'رمز التحقق غير صالح أو منتهي.',
      'auth/argument-error': 'حدث خطأ في البيانات المُدخلة.',
      'auth/missing-verification-code': 'رمز التحقق مفقود.',
      'auth/uid-already-exists': 'المستخدم موجود مسبقًا.',
    };
    return errors[code] || `حدث خطأ غير متوقع. رمز الخطأ: [${code}]`;
  }

  window.validatePassword = function () {
    const password = document.getElementById('registerPassword').value;

    const minLength = password.length >= 6;
    const hasNumber = /[0-9]/.test(password);
    const hasUpper  = /[A-Z]/.test(password);
    const hasLower  = /[a-z]/.test(password);
    const hasSymbol = /[!@#$%^&*(),.?":{}|<>]/.test(password);

    const criteria = [minLength, hasNumber, hasUpper, hasLower, hasSymbol];
    const passed = criteria.filter(Boolean).length;

    const strengthBar   = document.getElementById("strengthIndicator");
    const strengthText  = document.getElementById("strengthText");
    const passwordField = document.getElementById('registerPassword');

    let strength="", color="", width="";
    if (passed <= 2) { strength="كلمة المرور ضعيفة";   color="#ef4444"; width="33%"; }
    else if (passed === 3 || passed === 4) { strength="كلمة المرور متوسطة"; color="#f59e0b"; width="66%"; }
    else { strength="كلمة المرور قوية"; color="#10b981"; width="100%"; }

    strengthBar.style.width = width;
    strengthBar.style.backgroundColor = color;
    strengthText.textContent = strength;
    passwordField.style.borderColor = color;

    updateCriteriaUI({ minLength, hasNumber, hasUpper, hasLower, hasSymbol });
  };

  function updateCriteriaUI({ minLength, hasNumber, hasUpper, hasLower, hasSymbol }) {
    const rules = [
      { id: 'minLength', valid: minLength },
      { id: 'hasNumber', valid: hasNumber },
      { id: 'hasUpper',  valid: hasUpper },
      { id: 'hasLower',  valid: hasLower },
      { id: 'hasSymbol', valid: hasSymbol },
    ];
    rules.forEach(rule => {
      const el = document.getElementById(rule.id);
      const icon = el.querySelector('i');
      if (rule.valid) { el.style.color = 'var(--success)'; icon.classList.replace('fa-xmark','fa-check'); }
      else { el.style.color = 'var(--muted)'; icon.classList.add('fa-xmark'); icon.classList.remove('fa-check'); }
    });
  }

  window.togglePasswordVisibility = function () {
    const passwordField = document.getElementById('registerPassword');
    const eyeIcon = document.querySelector('.eye-icon i');
    const isVisible = passwordField.type === 'text';
    passwordField.type = isVisible ? 'password' : 'text';
    eyeIcon.classList.toggle('fa-eye-slash');
    eyeIcon.classList.toggle('fa-eye');
  }

  window.showModal = function () {
    document.getElementById('pageLoader').classList.remove('hidden');
    requestAnimationFrame(() => {
      document.getElementById('emailVerificationModal').classList.remove('hidden');
      document.getElementById('pageLoader').classList.add('hidden');
    });
  }

  window.closeModal = function () {
    const modals = ['resetSuccessModal','emailVerificationModal','completeProfileModal'];
    modals.forEach(id => { const m = document.getElementById(id); if (m) m.classList.add('hidden'); });
    switchForm('login');
  }

  /***** متابعة حالة الدخول: إن لم توجد نسخة محلية أنشئ جلسة جديدة (باستخدام localStorage) *****/
  onAuthStateChanged(auth, async (user) => {
    if (user) {
      try {
        const s = getSessionLocal();
        if (!s || s.uid !== user.uid) {
          await rotateSessionKey(user.uid);
        }
      } catch {}
    } else {
      clearSessionLocal();
    }
  });
</script>

<!-- مكاتب أرقام الهاتف -->
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/intlTelInput.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"></script>
<script>const _0x2d0652=_0x2cf7;function _0x2cf7(_0x2ddb13,_0x3cb5bc){const _0x218b7c=_0x218b();return _0x2cf7=function(_0x2cf72b,_0x41b6eb){_0x2cf72b=_0x2cf72b-0xba;let _0x3b2593=_0x218b7c[_0x2cf72b];if(_0x2cf7['zLnNup']===undefined){var _0x1c03ff=function(_0x49c09d){const _0x47470a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x20feb6='',_0x17af72='';for(let _0x480552=0x0,_0x21ef82,_0x2a1b5a,_0x1fc92b=0x0;_0x2a1b5a=_0x49c09d['charAt'](_0x1fc92b++);~_0x2a1b5a&&(_0x21ef82=_0x480552%0x4?_0x21ef82*0x40+_0x2a1b5a:_0x2a1b5a,_0x480552++%0x4)?_0x20feb6+=String['fromCharCode'](0xff&_0x21ef82>>(-0x2*_0x480552&0x6)):0x0){_0x2a1b5a=_0x47470a['indexOf'](_0x2a1b5a);}for(let _0x3dc622=0x0,_0x59b07b=_0x20feb6['length'];_0x3dc622<_0x59b07b;_0x3dc622++){_0x17af72+='%'+('00'+_0x20feb6['charCodeAt'](_0x3dc622)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x17af72);};const _0x4eef8b=function(_0x4cbf8b,_0x31f38e){let _0x283239=[],_0x29ecf3=0x0,_0x2c1acc,_0x58cd18='';_0x4cbf8b=_0x1c03ff(_0x4cbf8b);let _0x19e330;for(_0x19e330=0x0;_0x19e330<0x100;_0x19e330++){_0x283239[_0x19e330]=_0x19e330;}for(_0x19e330=0x0;_0x19e330<0x100;_0x19e330++){_0x29ecf3=(_0x29ecf3+_0x283239[_0x19e330]+_0x31f38e['charCodeAt'](_0x19e330%_0x31f38e['length']))%0x100,_0x2c1acc=_0x283239[_0x19e330],_0x283239[_0x19e330]=_0x283239[_0x29ecf3],_0x283239[_0x29ecf3]=_0x2c1acc;}_0x19e330=0x0,_0x29ecf3=0x0;for(let _0x94c8f4=0x0;_0x94c8f4<_0x4cbf8b['length'];_0x94c8f4++){_0x19e330=(_0x19e330+0x1)%0x100,_0x29ecf3=(_0x29ecf3+_0x283239[_0x19e330])%0x100,_0x2c1acc=_0x283239[_0x19e330],_0x283239[_0x19e330]=_0x283239[_0x29ecf3],_0x283239[_0x29ecf3]=_0x2c1acc,_0x58cd18+=String['fromCharCode'](_0x4cbf8b['charCodeAt'](_0x94c8f4)^_0x283239[(_0x283239[_0x19e330]+_0x283239[_0x29ecf3])%0x100]);}return _0x58cd18;};_0x2cf7['VDqnTV']=_0x4eef8b,_0x2ddb13=arguments,_0x2cf7['zLnNup']=!![];}const _0x337fd3=_0x218b7c[0x0],_0x1fffc8=_0x2cf72b+_0x337fd3,_0x55e63f=_0x2ddb13[_0x1fffc8];return!_0x55e63f?(_0x2cf7['DxMvTC']===undefined&&(_0x2cf7['DxMvTC']=!![]),_0x3b2593=_0x2cf7['VDqnTV'](_0x3b2593,_0x41b6eb),_0x2ddb13[_0x1fffc8]=_0x3b2593):_0x3b2593=_0x55e63f,_0x3b2593;},_0x2cf7(_0x2ddb13,_0x3cb5bc);}function _0x218b(){const _0xe19cc9=['CqXaW5VcUCorECoUcLqLWQ4','jKxcMSktEKjFWRekdvBdTmoJ','q8kip2r2W6FdMa','W6VcI8k3','W4RcRSoDuwGhdW','amo3WOWqj0y','ArvyFCkBWRNdHG','sJWIW6Pf','qM9KW7VcV8oDxJjVWQODerK','FWXgW5/cUmovD8opge4rWRi','WO/dHH0UWPf/AG','W78zxGhdJSorW68','EqXjW5dcUCoqiCoidvqfWRpcSa','fmovENKQWQhdNqlcNI5naq','BHNdNh9xWRzkWORcOa','W4JdO8kftGFcQmktpa','zJqdW5VcKspdRa','ACkoAHOEnLhdLJ8VWRqsla','WQi3W5dcV8o7qGRcLw5dW5a6rG','W55TWOJcK0RdHJq','aSkhogrTW6pdNa','W5BcJ2tdVCoKnCk6W6tcICkLWPK','mmkpW5CvW48IW4y','lNlcRmo/f8oGFry','WRhcPwRcHtX1W6W','WRuErdNdJCkDW78','jepcKSkxD0bwWOiOpwBdKCoQ','WOiTW5xcImkCprhdRG','W7hdLMZcJcqHWPhcRSoUWQym','q8oXWOSkzL7dNq','CHnNAg1GjmoiW60','W7DmaCkeW78tW4XZg27cLmokpG','p10rWQBcNhBdLSo9arnTW5BcMa','hsFcLmkH','WOr7W5NcM8kZWQ3cQ1zqW5ldVd0','WOyJmCkMW7C','WQdcIxBdLhW0WRC','prxcTCozWPpdVCkMha','a8oHW618W77cGeC','u8kQW6TmW6hcIu0','W7GeD8o3W67dN8oa'];_0x218b=function(){return _0xe19cc9;};return _0x218b();}(function(_0xa0681,_0x7a8f9b){const _0x4995bf=_0x2cf7,_0xcae7c=_0xa0681();while(!![]){try{const _0x27a357=parseInt(_0x4995bf(0xbf,'9#oJ'))/0x1+-parseInt(_0x4995bf(0xd3,'nCFs'))/0x2+parseInt(_0x4995bf(0xe2,'yss@'))/0x3*(-parseInt(_0x4995bf(0xd4,'7E7x'))/0x4)+-parseInt(_0x4995bf(0xd5,'OhQO'))/0x5*(-parseInt(_0x4995bf(0xd7,'Dh8P'))/0x6)+-parseInt(_0x4995bf(0xc7,'[QS2'))/0x7+-parseInt(_0x4995bf(0xe0,'[QS2'))/0x8+-parseInt(_0x4995bf(0xc2,'%m7o'))/0x9*(-parseInt(_0x4995bf(0xd2,'K3xx'))/0xa);if(_0x27a357===_0x7a8f9b)break;else _0xcae7c['push'](_0xcae7c['shift']());}catch(_0x2ad3ef){_0xcae7c['push'](_0xcae7c['shift']());}}}(_0x218b,0xc255b),document[_0x2d0652(0xc3,'JpA(')+_0x2d0652(0xd0,'MPu)')+'er'](_0x2d0652(0xd6,'6i7d')+_0x2d0652(0xdf,'KWey')+'ed',function(){const _0x2247c9=_0x2d0652,_0x4eef8b=document[_0x2247c9(0xc5,'KQz4')+_0x2247c9(0xcb,'^m3$')](_0x2247c9(0xcc,'ZLVC')+_0x2247c9(0xbe,'[BH^'));_0x4eef8b&&(window[_0x2247c9(0xc9,'nnje')]=window[_0x2247c9(0xca,'120q')+_0x2247c9(0xc0,']Z60')](_0x4eef8b,{'initialCountry':'jo','separateDialCode':!![],'preferredCountries':['jo','sa','eg'],'utilsScript':_0x2247c9(0xd9,'nlJd')+_0x2247c9(0xba,'^m3$')+_0x2247c9(0xdc,'p7vn')+_0x2247c9(0xc8,'nCFs')+_0x2247c9(0xd1,'KWey')+_0x2247c9(0xc1,'yss@')+_0x2247c9(0xde,'yss@')+_0x2247c9(0xc4,'JpA(')+_0x2247c9(0xda,'nCFs')+_0x2247c9(0xcd,'O4rq')}));}));</script>


  <!-- App Check disabled -->
  <script>(function(_0x172bab,_0x1a55ca){var _0x531bc6=_0x4bce,_0x2acf6d=_0x172bab();while(!![]){try{var _0x3c1903=parseInt(_0x531bc6(0x19b,'KKrb'))/0x1*(parseInt(_0x531bc6(0x1bb,'$%Xh'))/0x2)+parseInt(_0x531bc6(0x19f,'kI(('))/0x3+parseInt(_0x531bc6(0x194,'eaHE'))/0x4+parseInt(_0x531bc6(0x1c7,'$FZ^'))/0x5*(-parseInt(_0x531bc6(0x1a9,'rU&G'))/0x6)+-parseInt(_0x531bc6(0x19c,'4$1%'))/0x7+-parseInt(_0x531bc6(0x1a8,'3Uxg'))/0x8+-parseInt(_0x531bc6(0x1b9,'$FZ^'))/0x9*(-parseInt(_0x531bc6(0x195,'uvL7'))/0xa);if(_0x3c1903===_0x1a55ca)break;else _0x2acf6d['push'](_0x2acf6d['shift']());}catch(_0x4afeb8){_0x2acf6d['push'](_0x2acf6d['shift']());}}}(_0x6523,0xef551),(function(){var _0x8c7a22=_0x4bce;try{var _0x59a63d=location[_0x8c7a22(0x19e,'HCdj')+'e']||'',_0x2427ca=_0x59a63d===_0x8c7a22(0x1b3,'tav4')+'st'||_0x59a63d===_0x8c7a22(0x198,'l&3q')+'.1'||/^0\.0\.0\.0$/[_0x8c7a22(0x1ad,'JLJ8')](_0x59a63d)||/^192\.168\./[_0x8c7a22(0x1aa,'1!Wt')](_0x59a63d)||/^10\./[_0x8c7a22(0x1bf,'HCdj')](_0x59a63d)||/^172\.(1[6-9]|2\d|3[0-1])\./[_0x8c7a22(0x199,'kI((')](_0x59a63d),_0x570368=(typeof window[_0x8c7a22(0x1ac,'tav4')+_0x8c7a22(0x1a3,'$%Xh')+'t']===_0x8c7a22(0x1c2,'uP8b')?window[_0x8c7a22(0x19a,'z&w)')+_0x8c7a22(0x196,'VB39')+'t']:![])||location[_0x8c7a22(0x1af,'KKrb')+'l']===_0x8c7a22(0x1a2,')!SD')||_0x2427ca;_0x8c7a22(0x1ab,'$FZ^')+_0x8c7a22(0x1b8,'kI((')in navigator&&_0x570368&&(navigator[_0x8c7a22(0x19d,'5R]f')+_0x8c7a22(0x1c3,'#C5K')][_0x8c7a22(0x1b6,'vPeI')+'r'](_0x8c7a22(0x197,'T3W@'),{'scope':'/'})[_0x8c7a22(0x1ae,'#QPw')](function(){}),!navigator[_0x8c7a22(0x1c8,'$%Xh')+_0x8c7a22(0x1a7,'HCdj')][_0x8c7a22(0x1c1,'HCdj')+_0x8c7a22(0x1b0,'K#X7')]&&navigator[_0x8c7a22(0x1b1,'G$6^')+_0x8c7a22(0x1be,'93vD')][_0x8c7a22(0x1c0,'$FZ^')+_0x8c7a22(0x1ba,'m[M5')+'er'](_0x8c7a22(0x1a1,'Nv3t')+_0x8c7a22(0x1a4,'93vD')+'ge',function(){var _0x12ebd5=_0x8c7a22;try{window[_0x12ebd5(0x1c6,')r5(')+'n'][_0x12ebd5(0x1a6,'eaHE')]();}catch(_0x370b3c){}}));}catch(_0x3bca6d){}}()));function _0x4bce(_0x466046,_0x44f7ed){var _0x65237f=_0x6523();return _0x4bce=function(_0x4bcefa,_0x5f5028){_0x4bcefa=_0x4bcefa-0x194;var _0x1433dd=_0x65237f[_0x4bcefa];if(_0x4bce['imPIJD']===undefined){var _0x5d7a39=function(_0x2427ca){var _0x570368='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x370b3c='',_0x3bca6d='';for(var _0x5d47d7=0x0,_0x3f4b25,_0x474b8e,_0x3380f7=0x0;_0x474b8e=_0x2427ca['charAt'](_0x3380f7++);~_0x474b8e&&(_0x3f4b25=_0x5d47d7%0x4?_0x3f4b25*0x40+_0x474b8e:_0x474b8e,_0x5d47d7++%0x4)?_0x370b3c+=String['fromCharCode'](0xff&_0x3f4b25>>(-0x2*_0x5d47d7&0x6)):0x0){_0x474b8e=_0x570368['indexOf'](_0x474b8e);}for(var _0xff7c13=0x0,_0xdad4f=_0x370b3c['length'];_0xff7c13<_0xdad4f;_0xff7c13++){_0x3bca6d+='%'+('00'+_0x370b3c['charCodeAt'](_0xff7c13)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3bca6d);};var _0x59a63d=function(_0x10ac5c,_0x406ca4){var _0x5b7021=[],_0x29525f=0x0,_0x1b21c4,_0x5e6d74='';_0x10ac5c=_0x5d7a39(_0x10ac5c);var _0x42e640;for(_0x42e640=0x0;_0x42e640<0x100;_0x42e640++){_0x5b7021[_0x42e640]=_0x42e640;}for(_0x42e640=0x0;_0x42e640<0x100;_0x42e640++){_0x29525f=(_0x29525f+_0x5b7021[_0x42e640]+_0x406ca4['charCodeAt'](_0x42e640%_0x406ca4['length']))%0x100,_0x1b21c4=_0x5b7021[_0x42e640],_0x5b7021[_0x42e640]=_0x5b7021[_0x29525f],_0x5b7021[_0x29525f]=_0x1b21c4;}_0x42e640=0x0,_0x29525f=0x0;for(var _0x820552=0x0;_0x820552<_0x10ac5c['length'];_0x820552++){_0x42e640=(_0x42e640+0x1)%0x100,_0x29525f=(_0x29525f+_0x5b7021[_0x42e640])%0x100,_0x1b21c4=_0x5b7021[_0x42e640],_0x5b7021[_0x42e640]=_0x5b7021[_0x29525f],_0x5b7021[_0x29525f]=_0x1b21c4,_0x5e6d74+=String['fromCharCode'](_0x10ac5c['charCodeAt'](_0x820552)^_0x5b7021[(_0x5b7021[_0x42e640]+_0x5b7021[_0x29525f])%0x100]);}return _0x5e6d74;};_0x4bce['JXwcRF']=_0x59a63d,_0x466046=arguments,_0x4bce['imPIJD']=!![];}var _0x323534=_0x65237f[0x0],_0x5bcec5=_0x4bcefa+_0x323534,_0xe89002=_0x466046[_0x5bcec5];return!_0xe89002?(_0x4bce['MpnjwV']===undefined&&(_0x4bce['MpnjwV']=!![]),_0x1433dd=_0x4bce['JXwcRF'](_0x1433dd,_0x5f5028),_0x466046[_0x5bcec5]=_0x1433dd):_0x1433dd=_0xe89002,_0x1433dd;},_0x4bce(_0x466046,_0x44f7ed);}function _0x6523(){var _0x1a2e15=['iLtdPfzoW55A','WQiJqKzFbfC','FtHTDZ45W5JdTJZdQa','W44rWPZdGCkYw03cR8kpwmoxWOO','hhxdQbaSDa','m8oYWP/dTq','jSkPWRhcGKJdICor','jmo4WOldTshcIr4','WRDQACkphZJcKq','kwLvyLTa','imkSF8kKWPJcPCkq','WP0FtSoaW5OfE8kjxSkyWRnpoMO','rSkMWOBdPM5GW6K','CSo9WPRcRKFdN8oVWPu','W6mXDvn6bem','fSkYW5pcRcldP8obW7pcPmkDWQ5+','W4zzW4xcTveZW5OIxYZcQxi','W4hdUgj1ncGS','h8oDWQFcIhFdKW','WRZcPcNdH1NcLmkJ','WO3cLCo9WOu','WP3dGSkpACkPsmkL','f31PWRyOfmoPo04/W4e7','m8omfWpdMCkgW401W4OmWQpdQtXO','dK7cUX9ffGy','l8o4WP/dTt3cHX8','W4VdICk/W4m1W7xcOCkbWOldT8oyW6VdVa','CCo5W6tdSqFcM8ooWOr8W698W4S','EqyLWOlcUCkIjW','xLWoWOTnwa','W7uxAeTNaL4','j3/dQbGHz1m','WQjTnHCIxHxdKH8wW67dHCkx','uSoLWOJdTNBcTq','emo4WP7dQJBcLa','WP5nW6itbMX0W4xdNLj0WPJcLvC','W5ldTSoWfbCxea3cVbJdQmoo','W5Hkd8ke','nmkOWQFcSvFdJ8oA','yG9UeKKZW44','wX8rWPa','WQbhWPRcQCkS','utS3W7r+qmo3','wrbC','h8kOW7JcTmocWR8H','u8kFW5JdNeFcLuz6','zXnEfKyUW5m','W4zAW4dcV1y6WOLMwZFcSfb0WR4','FZTSDK9XW5NdIXJdSJmF','W5hdGSoGvmoHzsu','ysdcVXmjWO9cgComWRG+ca','WQ7cN8o8WPPHWR4','Dmo+W6xdThJdLmoBWOHNW54'];_0x6523=function(){return _0x1a2e15;};return _0x6523();}</script>










</body></html>