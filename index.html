<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script>
    (function(){
      try{
        var h = location.hostname || '';
        var isLocal = h === 'localhost' || h === '127.0.0.1' || h === '' || /^0\.0\.0\.0$/.test(h) || /^192\.168\./.test(h) || /^10\./.test(h) || /^172\.(1[6-9]|2\d|3[0-1])\./.test(h);
        if (location.protocol === 'http:' && !isLocal) {
          var target = 'https://' + location.host + location.pathname + location.search + location.hash;
          window.location.replace(target);
        }
      }catch(e){}
    })();
  </script>
  <title>Ù…ØªØ¬Ø± Ù‚ØµÙŠ</title>
  <link rel="icon" href="https://i.ibb.co/Q7Gnqy2z/1757362837638.png" type="image/png">
  <link rel="apple-touch-icon" href="https://i.ibb.co/Q7Gnqy2z/1757362837638.png" sizes="180x180">
  <meta name="application-name" content="Ù…ØªØ¬Ø± Ù‚ØµÙŠ">
  <meta name="apple-mobile-web-app-title" content="Ù…ØªØ¬Ø± Ù‚ØµÙŠ">

  <!-- SEO -->
  <meta name="description" content="Ù…ØªØ¬Ø± Ù‚ØµÙŠ | Ù‚ØµÙŠ Ø³ØªÙˆØ± â€” Ù…ØªØ¬Ø± Ù…ÙˆØ«ÙˆÙ‚ Ù„Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù†. ÙØ±ÙŠ ÙØ§ÙŠØ±ØŒ Ø¨Ø¨Ø¬ÙŠØŒ Ø±ÙˆØ¨Ù„ÙˆÙƒØ³ØŒ Ø¬ÙˆØ§ÙƒØ± ÙˆØ§Ù„Ù…Ø²ÙŠØ¯ Ø¨Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ© ÙˆØ¯Ø¹Ù… ÙÙ†ÙŠ Ø³Ø±ÙŠØ¹.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://qusai.shop/">
  <link rel="alternate" href="https://qusai.shop/" hreflang="ar">
  <link rel="alternate" href="https://qusai.shop/" hreflang="x-default">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://qusai.shop/">
  <meta property="og:title" content="Ù…ØªØ¬Ø± Ù‚ØµÙŠ">
  <meta property="og:description" content="Ù…ØªØ¬Ø± Ù‚ØµÙŠ (Ù‚ØµÙŠ Ø³ØªÙˆØ±) â€” Ø´Ø­Ù† Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ø´ØªØ±Ø§ÙƒØ§Øª Ø±Ù‚Ù…ÙŠØ© Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù† ÙˆØ¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±.">
  <meta property="og:image" content="https://i.ibb.co/Q7Gnqy2z/1757362837638.png">
  <meta property="og:image:alt" content="Ø´Ø¹Ø§Ø± Ù…ØªØ¬Ø± Ù‚ØµÙŠ">
  <meta property="og:site_name" content="Ù…ØªØ¬Ø± Ù‚ØµÙŠ">
  <meta property="og:locale" content="ar_AR">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Ù…ØªØ¬Ø± Ù‚ØµÙŠ">
  <meta name="twitter:description" content="Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù† ÙˆØ£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ© Ø¹Ø¨Ø± Ù…ØªØ¬Ø± Ù‚ØµÙŠ (Ù‚ØµÙŠ Ø³ØªÙˆØ±).">
  <meta name="twitter:image" content="https://i.ibb.co/Q7Gnqy2z/1757362837638.png">

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "name": "Ù…ØªØ¬Ø± Ù‚ØµÙŠ",
        "alternateName": ["Ù‚ØµÙŠ Ø³ØªÙˆØ±", "Ù…ØªØ¬Ø± Ù‚ØµÙŠ", "Qusai Shop", "Qusai Store"],
        "url": "https://qusai.shop/",
        "logo": "https://i.ibb.co/Q7Gnqy2z/1757362837638.png",
        "image": "https://i.ibb.co/Q7Gnqy2z/1757362837638.png"
      },
      {
        "@type": "WebSite",
        "name": "Ù…ØªØ¬Ø± Ù‚ØµÙŠ",
        "alternateName": ["Ù‚ØµÙŠ Ø³ØªÙˆØ±", "Ù…ØªØ¬Ø± Ù‚ØµÙŠ", "Qusai Shop", "Qusai Store"],
        "url": "https://qusai.shop/",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://qusai.shop/?q={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    ]
  }
  </script>

  <!-- Ø³ÙƒØ±Ø¨Øª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø«ÙŠÙ… Ù…Ø¨ÙƒØ±Ù‹Ø§ Ø¬Ø¯Ù‹Ø§ Ù„Ù…Ù†Ø¹ Ø§Ù„Ù„Ù…Ø¹Ø© -->
  <script>
  (function () {
    var theme = 'dark';
    try {
      var t = localStorage.getItem('theme');
      if (!t) {
        // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ theme ÙÙŠ localStorage Ø§Ø¬Ø¹Ù„Ù‡ Ø¯Ø§ÙƒÙ†Ù‹Ø§ Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§
        t = 'dark';
        try { localStorage.setItem('theme', 'dark'); } catch (_) {}
      }
      theme = (t === 'light') ? 'light' : 'dark';
    } catch (e) { theme = 'dark'; }

    var root = document.documentElement;
    root.setAttribute('data-theme', theme);

    var metaCS = document.querySelector('meta[name="color-scheme"]');
    if (!metaCS) { metaCS = document.createElement('meta'); metaCS.name = 'color-scheme'; document.head.appendChild(metaCS); }
    metaCS.setAttribute('content', theme === 'dark' ? 'dark light' : 'light dark');

    var metaTC = document.querySelector('meta[name="theme-color"]');
    if (!metaTC) { metaTC = document.createElement('meta'); metaTC.name = 'theme-color'; document.head.appendChild(metaTC); }
    metaTC.setAttribute('content', theme === 'dark' ? '#0b1220' : '#f9f9f9');

    var cs = document.getElementById('critical-theme');
    if (cs) {
      cs.textContent = cs.textContent.replace(
        /color-scheme:\s*(dark|light)\s*;/,
        'color-scheme:' + (theme === 'dark' ? 'dark' : 'light') + ';'
      );
    }
  })();
  </script>

  <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø£ÙˆÙ„Ø§Ù‹ -->
  <link rel="preload" as="image" href="https://i.ibb.co/1GYPyKMj/1447-02-27-23-46-21-df66c84f.jpg">
  <link rel="preload" as="image" href="https://i.ibb.co/Vcq1dr69/1756157590278.jpg">
  <link rel="preload" as="image" href="https://i.ibb.co/XZHyMGSG/1756247096045.jpg">
  <link rel="preload" as="image" href="https://i.ibb.co/cXQ1mG6y/prod-68632f4bac1c0-1.jpg">
  <link rel="preload" as="image" href="https://i.ibb.co/TBh1qpzV/1757616222968.jpg">

  <!-- ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…ØµØ§Ø¯Ø± -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="preconnect" href="https://i.ibb.co" crossorigin>
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ· -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

  <!-- Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

  <!-- CSS -->
  <link rel="preload" href="header.css" as="style" onload="this.onload=null;this.rel='stylesheet'">

  <!-- Scripts -->
  <script src="header.js" defer></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js" async></script>
    

  <meta name="color-scheme" content="dark light">

  <style id="critical-theme">
    :root { color-scheme: light; }
    html[data-theme="dark"]  { background: linear-gradient(180deg,#0b1220,#0b172a); color:#e6edf3; }
    html[data-theme="light"] { background: linear-gradient(135deg,#f7fbff,#e6f6ff); color:#333; }
    html, body { margin:0; padding:0; }
    body { background: inherit; color: inherit; }
  </style>
  
  <!-- Styles for inline-loaded pages: auto ribbon, premium cards -->
  <style>
  /* Auto ribbon like FREEFIREINBUT */
  a.card.auto{position:relative;overflow:hidden}
  a.card.auto::before {
    content: "ØªÙ„Ù‚Ø§Ø¦ÙŠ";
    position: absolute;
    top: 12px;
    right: -50px;
    width: 160px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 900;
    font-size: .9rem;
    color: #fff;
    background:
      linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,0) 60%),
      linear-gradient(135deg,#06b6d4,#10b981);
    transform: rotate(45deg);
    border-radius: 10px;
    text-shadow: 0 1px 1px rgba(0,0,0,.25);
    box-shadow: 0 10px 20px rgba(0,0,0,.18),
                inset 0 1px 0 rgba(255,255,255,.25),
                inset 0 -1px 0 rgba(0,0,0,.15);
    pointer-events: none;
    z-index: 3;
  }
  @keyframes ribbonShift{
    0%   { background-position: 0 0, 0% 50%; }
    50%  { background-position: 0 0, 100% 50%; }
    100% { background-position: 0 0, 0% 50%; }
  }
  @media (prefers-reduced-motion: reduce){ a.card.auto::before{ animation:none } }
  html[data-theme="dark"] a.card.auto::before{
    background:
      linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,0) 60%),
      linear-gradient(135deg,#22c55e,#06b6d4);
    background-size:100% 100%, 200% 100%;
    background-position:0 0, 0% 50%;
  }
  /* Premium visual enhancements for .card.auto */
  a.card.auto{
    border:1.5px solid transparent;
    background:
      linear-gradient(var(--card-bg),var(--card-bg)) padding-box,
      linear-gradient(135deg,#06b6d4,#10b981) border-box;
    box-shadow:0 8px 22px rgba(0,0,0,.12), 0 1px 0 rgba(255,255,255,.04) inset;
    transition:transform .25s ease, box-shadow .35s ease, filter .25s ease;
    animation:luxPulse 3.6s ease-in-out infinite;
  }
  html[data-theme="dark"] a.card.auto{
    background:
      linear-gradient(var(--card-bg),var(--card-bg)) padding-box,
      linear-gradient(135deg,#22c55e,#06b6d4) border-box;
    box-shadow:0 10px 26px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.04) inset;
  }
  @keyframes luxPulse{
    0%,100%{box-shadow:0 8px 22px rgba(0,0,0,.12), 0 0 0 0 rgba(250,204,21,.0)}
    50%{box-shadow:0 12px 34px rgba(0,0,0,.16), 0 0 24px 0 rgba(250,204,21,.18)}
  }
  a.card.auto img{transition:transform .45s ease, filter .35s ease; will-change:transform}
  a.card.auto:hover img{transform:scale(1.06) translateY(-2px); filter:saturate(1.08) contrast(1.05)}
  a.card.auto:not(.pending-state):not(.maintenance)::after{
    content:""; position:absolute; inset:-20% -120% -20% -120%;
    background:linear-gradient(115deg, transparent 45%, rgba(255,255,255,.38) 50%, transparent 55%);
    transform:translateX(-20%) rotate(12deg);
    animation:luxSweep 3.8s linear infinite; pointer-events:none; z-index:1;
  }
  @keyframes luxSweep{ 0%{transform:translateX(-20%) rotate(12deg)} 100%{transform:translateX(120%) rotate(12deg)} }
  @media (prefers-reduced-motion: reduce){ a.card.auto::after{animation:none} }
  a.card.auto:hover{ transform:translateY(-4px) scale(1.01); box-shadow:0 16px 36px rgba(0,0,0,.18), 0 0 28px rgba(250,204,21,.16) }

  /* Inline page chrome */
  #inlinePage{margin-top:10px}
  /* toolbar disabled per request */
  .inline-toolbar{display:none}
  .inline-back{display:none}
  .inline-title{display:none}
  </style>
  
  <!-- Ø¨Ø§Ù†Ø± Ø¹Ù„ÙˆÙŠ: ØªÙ†Ø³ÙŠÙ‚ Ø¨Ø³ÙŠØ· -->
  <style>
    .page-hero{ max-width:1000px; margin:10px auto 12px; padding:0 }
    .page-hero img{ width:100%; height:auto; display:block; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,.12) }
  </style>

  <!-- Theme tokens -->
  <style>
  :root {
    --bg:#f9f9f9; --text:#111827; --muted:#6b7280;
    --card-bg:#ffffff; --card-text:var(--text); --card-border:#e5e7eb; --elev-shadow:0 2px 8px rgba(0,0,0,.1);
    --input-bg:#ffffff; --input-text:var(--text); --input-border:#0ea5e9; --input-border-focus:#0284c7; --input-focus-glow:rgba(14,165,233,.35);
    --btn-bg:#0ea5e9; --btn-bg-hover:#0284c7; --btn-text:#fff;
    --balance-bg:#fff; --balance-text:#0ea5e9; --balance-shadow:0 5px 15px rgba(0,0,0,.1);
    --modal-bg:#fff; --modal-text:var(--text); --modal-shadow:0 5px 15px rgba(0,0,0,.3);
    --warn-bg:#fff3cd; --warn-text:#7a5d00; --warn-border:#ffe69c;
    --skeleton:#f0f0f0; --shimmer-stripe:rgba(255,255,255,.4); --border-strong:#e5e7eb;
    /* Ø§Ø¬Ø¹Ù„ Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø³Ù… ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù„ÙˆÙ† Ø«Ø§Ø¨Øª Ù…Ø«Ù„ games.html */
    --bg-app: var(--bg);
  }
  html[data-theme="dark"] {
    --bg:#0b1220; --text:#e6edf3; --muted:#94a3b8;
    --card-bg:#1a2234; --card-text:#e6edf3; --card-border:#334155; --elev-shadow:0 2px 10px rgba(0,0,0,.35);
    --input-bg:#0b1220; --input-text:#e6edf3; --input-border:#334155; --input-border-focus:#38bdf8; --input-focus-glow:rgba(56,189,248,.35);
    --btn-bg:#0284c7; --btn-bg-hover:#0ea5e9; --btn-text:#fff;
    --balance-bg:#0f172a; --balance-text:#7dd3fc; --balance-shadow:0 6px 18px rgba(0,0,0,.35);
    --modal-bg:#111827; --modal-text:#e6edf3; --modal-shadow:0 10px 30px rgba(0,0,0,.5);
    --warn-bg:#2b2f3a; --warn-text:#facc15; --warn-border:#334155;
    --skeleton:#162032; --shimmer-stripe:rgba(255,255,255,.15); --border-strong:#334155;
    /* Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø³Ù… Ø«Ø§Ø¨ØªØ© Ù„ØªØ·Ø§Ø¨Ù‚ games.html */
    --bg-app: var(--bg);
  }
  </style>

  <style>
/* Modal */
.modal{position:fixed;inset:0;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999}
.modal-content{background:var(--modal-bg);color:var(--modal-text);padding:30px;border-radius:10px;max-width:400px;width:100%;box-shadow:var(--modal-shadow);text-align:center}

/* Base */
body{font-family:'Cairo',sans-serif;margin:0;direction:rtl}
  html[data-theme="dark"]  body,
  html[data-theme="light"] body{background:var(--bg-app, var(--bg));color:var(--text)}

/* Search */
  /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ÙØ±Ø§Øº ÙÙˆÙ‚ Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« */
  .search-container{margin:10px auto 12px;max-width:1000px;display:flex;justify-content:center;gap:10px;padding:0}
.search-container input[type="text"]{flex:1;padding:12px 15px;background:var(--input-bg);color:var(--input-text);border:2px solid var(--input-border);border-radius:25px;font-size:1rem;outline:none;transition:.3s}
.search-container input[type="text"]:focus{box-shadow:0 0 6px var(--input-focus-glow);border-color:var(--input-border-focus)}
.search-container button{background:var(--btn-bg);border:none;padding:12px 20px;border-radius:25px;color:var(--btn-text);font-size:1rem;cursor:pointer;transition:.3s}
.search-container button:hover{background:var(--btn-bg-hover)}

main{max-width:1200px;margin:20px auto;padding:0 15px}

/* Grid */
.categories{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,max-content));gap:20px;justify-content:start;max-width:1000px;margin:auto}

/* Card */
.card{background:var(--card-bg);color:var(--card-text);border:1px solid var(--card-border);border-radius:12px;box-shadow:var(--elev-shadow);text-align:center;padding:16px;text-decoration:none;transition:transform .3s ease,box-shadow .3s ease;display:flex;flex-direction:column;gap:12px}
.card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.15)}
.card h2{font-weight:700;font-size:1rem;margin:0;line-height:1.4;word-break:break-word}

/* Image */
.card img{width:100%;aspect-ratio:1/1;height:auto;object-fit:cover;object-position:center;border-radius:8px;user-select:none;background-color:var(--skeleton);display:block;margin:0 auto}

/* Show image even while pending (Ù„Ùˆ Ø­ØµÙ„ ØªØ¶Ø§Ø±Ø¨ Ù…Ø¹ .loading) */
.card.pending-state img{visibility:visible}

/* No results */
.no-results{text-align:center;font-size:1.2rem;color:var(--muted);margin-top:30px}

/* Balance */
#userBalance{margin:20px auto;max-width:600px;text-align:center;font-weight:700;font-size:1.3rem;color:var(--text);background:var(--balance-bg);border-radius:20px;padding:20px;display:flex;align-items:center;justify-content:center;box-shadow:var(--balance-shadow);position:relative;border:1px solid var(--card-border)}
.balance-content{display:flex;align-items:center;justify-content:center}
#balanceText{margin-right:10px;color:var(--balance-text)}
.loading-spinner{border:4px solid #f3f3f3;border-top:4px solid var(--btn-bg);border-radius:50%;width:30px;height:30px;animation:spin 1s linear infinite;display:none}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
#userBalance img{width:30px;height:30px;margin-left:10px}

/* Auth buttons */
#loginBtn,#logoutBtn{position:fixed;top:5px;border:none;padding:10px 18px;border-radius:25px;font-size:1rem;cursor:pointer;z-index:9999;transition:.3s}
#loginBtn{left:20px;background:var(--btn-bg);color:var(--btn-text);visibility:visible}
#loginBtn:hover{background:var(--btn-bg-hover)}
#logoutBtn{left:160px;background:#cc0000;color:#fff;visibility:hidden}
#logoutBtn:hover{background:#990000}

/* Login modal fields */
.login-modal .modal-content input{padding:10px;background:var(--input-bg);color:var(--input-text);border:1px solid var(--card-border);border-radius:6px;font-size:1rem}
.login-modal .modal-content button{padding:10px;background:var(--btn-bg);color:var(--btn-text);border:none;border-radius:6px;cursor:pointer}
.login-modal .modal-content button:hover{background:var(--btn-bg-hover)}
.modal-content .close{position:absolute;top:10px;left:20px;cursor:pointer;font-size:1.2rem}

/* Maintenance / Loading / Pending */
.card.maintenance{background:var(--bg)!important;pointer-events:none;opacity:.7}
.card.maintenance h2{color:#a00}
.card.maintenance img{filter:grayscale(100%)}

.card.pending-state{pointer-events:none;opacity:.7;position:relative;overflow:hidden}
.card.pending-state::after{content:'';position:absolute;top:0;right:-150px;width:100px;height:100%;background:linear-gradient(90deg,transparent,var(--shimmer-stripe),transparent);animation:shimmer 1.2s infinite;border-radius:12px;z-index:2}
@keyframes shimmer{0%{right:-150px}100%{right:100%}}

.card.loading{position:relative;background:var(--skeleton);overflow:hidden;pointer-events:none}
.card.loading img,.card.loading h2{visibility:hidden}
.card.loading::after{content:'';position:absolute;top:0;right:-150px;width:100px;height:100%;background:linear-gradient(90deg,transparent,var(--shimmer-stripe),transparent);animation:shimmer 1.2s infinite}

/* Responsive */
@media (max-width:480px){.categories{grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:14px}.card{padding:12px;gap:10px}.card h2{font-size:.95rem}}
@media (max-width:768px){.categories{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}}
@media (max-width:992px){.categories{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}}

.card.loading{pointer-events:none;opacity:.7}

/* Fixed grid overrides */
.categories{grid-template-columns:repeat(5,minmax(0,1fr))!important;gap:20px;justify-content:center}
@media (max-width:768px){.categories{grid-template-columns:repeat(3,minmax(0,1fr))!important;gap:12px}.card{padding:12px!important}.card h2{font-size:.9rem!important}}
@media (max-width:480px){.categories{grid-template-columns:repeat(3,minmax(0,1fr))!important;gap:10px}.card{padding:10px!important}.card h2{font-size:.85rem!important}}
  hr{border-color:var(--border-strong)}
  </style>
  
  <!-- ØªÙˆØ§ÙÙ‚ Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± + Ø§Ù„Ø¨Ø­Ø« Ù„Ù„Ù‡ÙˆØ§ØªÙ -->
  <style>
    @media (max-width: 600px){
      /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø© Ø¨Ø¯Ù„Ù‹Ø§ Ù…Ù† Ø¥Ø¶Ø§ÙØ© ÙØ¬ÙˆØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø³Ø®ØªÙŠÙ† */
      .notice-ticker .ticker-copy{ gap:24px }
      .notice-ticker span{ font-size:1rem }
      .search-container{ margin:8px 8px 10px; padding:0 }
      .page-hero{ margin:8px 8px 10px; padding:0 }
      .page-hero img{ border-radius:10px }
      .search-container input[type="text"]{ font-size:1rem; padding:10px 12px }
      .search-container button{ padding:10px 16px }
    }
  </style>
  <script>
  // Register Service Worker only in secure contexts (https or localhost)
  (function(){
    try {
      var h = (location.hostname||'');
      var isLocal = h === 'localhost' || h === '127.0.0.1' || /^0\.0\.0\.0$/.test(h) || /^192\.168\./.test(h) || /^10\./.test(h) || /^172\.(1[6-9]|2\d|3[0-1])\./.test(h);
      var isSecure = (typeof window.isSecureContext === 'boolean' ? window.isSecureContext : false) || location.protocol === 'https:' || isLocal;
      if ('serviceWorker' in navigator && isSecure) {
        navigator.serviceWorker.register('sw.js').catch(function(e){ console.warn('SW register failed', e); });
      }
    } catch(e) { console.warn('SW register skipped', e); }
  })();
  </script>

  <!-- Preload/Warm important game images for seamless navigation -->
  <script>
    (function preloadGameImages(){
      // Key images used in games.html and its branches
      var images = [
        // Games categories (from games.html)
        'https://i.ibb.co/Lz2rDsgr/1756331102734.jpg',
        'https://i.ibb.co/wFvwLZZR/1756330901302.jpg',
        'https://i.ibb.co/N6NmR9qr/1756415248251.jpg',
        'https://i.ibb.co/HpDvMDry/1756415249784.jpg',
        'https://i.ibb.co/xt399t27/1756424103296.jpg',
        'https://i.ibb.co/SXdhVf8r/1756424101725.jpg',
        'https://i.ibb.co/hFGnwDYT/1756415246638.jpg',
        'https://i.ibb.co/b5VMTNpz/1756415284620.jpg',

        // Free Fire auto/variants (from freefireinbut.html)
        'https://i.ibb.co/xKmTvgwS/1756498380860.jpg',
        'https://i.ibb.co/0pDbDVsc/1756498704843.jpg',
        'https://i.ibb.co/7xZwmG1F/1756498841823.jpg'
      ];

      function warm(u){
        try {
          var img = new Image();
          img.decoding = 'async';
          img.referrerPolicy = 'no-referrer';
          img.src = u;
        } catch(_) {}
      }

      // Warm after the page is interactive/idle
      var run = function(){ images.forEach(warm); };
      if (window.requestIdleCallback) {
        requestIdleCallback(run, { timeout: 2000 });
      } else {
        setTimeout(run, 1200);
      }
    })();
  </script>

  <!-- ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø© Ù…Ø¨ÙƒØ±Ù‹Ø§ Ø¬Ø¯Ù‹Ø§ Ù„Ù…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø®Ø§Ø·Ø¦Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¨Ø³Ø±Ø¹Ø© -->
  <script>
  (function(){
    function ensureAllow(a){
      try{
        var url = new URL(a.getAttribute('href'), location.href);
        if (!url.searchParams.has('allow')) {
          url.searchParams.set('allow','1');
          a.setAttribute('href', url.pathname + url.search + url.hash);
        }
      }catch(_){}
    }
    function mark(e){
      try{
        var t = e.target;
        var a = t && t.closest ? t.closest('a[href$=".html"]') : null;
        if (!a) return;
        sessionStorage.setItem('nav:fromHome','1');
        ensureAllow(a);
      }catch(_){}
    }
    document.addEventListener('pointerdown', mark, true);
    document.addEventListener('auxclick',    mark, true);
    document.addEventListener('click',       mark, true);
  })();
  </script>
  
  <!-- Ø´Ø±ÙŠØ· Ø¥Ø´Ø¹Ø§Ø± Ù…ØªØ­Ø±Ùƒ (CSS) -->
  <style>
    .notice-ticker {
      max-width: 1000px;
      margin: 12px auto 10px;
      background: var(--input-bg);
      --nt-bg: var(--input-bg); /* Ù„Ù„ØªÙ„Ø§Ø´ÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
      --fadeWidth: 40px; /* Ø¹Ø±Ø¶ Ø·Ø¨Ù‚Ø© Ø§Ù„ØªÙ„Ø§Ø´ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø·Ø±Ø§Ù (Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨) */
      color: var(--input-text);
      border: 2px solid var(--input-border);
      border-radius: 25px; /* Ù…Ø«Ù„ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« */
      padding: 12px 15px; /* Ù…Ø«Ù„ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« */
      font-size: 1rem; /* Ù…Ø·Ø§Ø¨Ù‚ Ù„Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« */
      line-height: 1.2;
      display: flex;
      align-items: center;
      overflow: hidden;
      box-shadow: 0 6px 14px rgba(0,0,0,.06);
      position: relative;
      direction: rtl; /* Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø³Ø·Ø± Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† */
    }
    html[data-theme="dark"] .notice-ticker {
      background: var(--input-bg);
      --nt-bg: var(--input-bg);
      border-color: var(--input-border);
      box-shadow: 0 8px 20px rgba(0,0,0,.35);
      color: var(--input-text);
    }
    /* ØªÙ„Ø§Ø´ÙŠ Ø§Ù„Ø£Ø·Ø±Ø§Ù Ù„Ø¥Ø®ÙØ§Ø¡ Ø£ÙŠ Ø­ÙˆØ§Ù Ø¨Ø¯Ø§ÙŠØ©/Ù†Ù‡Ø§ÙŠØ© */
    .notice-ticker::before,
    .notice-ticker::after{
      content: '';
      position: absolute;
      top: 0; bottom: 0;
      width: var(--fadeWidth, 40px);
      pointer-events: none;
      z-index: 2;
    }
    .notice-ticker::before{ right:0; background: linear-gradient(270deg, var(--nt-bg) 0%, rgba(0,0,0,0) 70%); }
    .notice-ticker::after { left:0;  background: linear-gradient(90deg,  var(--nt-bg) 0%, rgba(0,0,0,0) 70%); }

    .notice-ticker .ticker-track {
      display: inline-flex;
      align-items: center;
      gap: 0; /* Ù„Ø§ ÙØ¬ÙˆØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø³Ø® */
      white-space: nowrap;
      will-change: transform;
      animation: marquee-single var(--dur, 18s) linear infinite;
    }
    .notice-ticker .ticker-copy {
      display: inline-flex;
      align-items: center;
      gap: 48px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø© */
      flex-shrink: 0; /* Ù„Ø§ ØªÙ†ÙƒÙ…Ø´ Ù„ØªØ¨Ù‚Ù‰ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚ÙŠØ§Ø³ Ø«Ø§Ø¨ØªØ© */
    }
    /* Ø§Ø³ØªØ®Ø¯Ù… Ù†Ø³Ø®Ø© Ù…Ø±Ø¦ÙŠØ© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ù„ÙŠØªØ­Ù‚Ù‚ Ø§Ù„Ø§Ø®ØªÙØ§Ø¡ Ø§Ù„ØªØ§Ù… Ø¨ÙŠÙ† Ø§Ù„Ø¯ÙˆØ±Ø§Øª */
    .notice-ticker .ticker-copy[aria-hidden="true"]{ display: none !important; }
    .notice-ticker span { font-weight: 700; font-size: 1rem; }
    /* Ø¹Ø¯Ù… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ…/Ø§Ù„ØªØ­Ø¯ÙŠØ¯ */
    .notice-ticker .ticker-track:hover { animation-play-state: running; }
    @media (prefers-reduced-motion: reduce){
      .notice-ticker .ticker-track{ animation: none; transform: none; }
    }
    /* Ù…Ø³Ø§Ø± ÙˆØ§Ø­Ø¯: ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø®Ø§Ø±Ø¬ Ø§Ù„Ø­Ø§ÙØ©ØŒ ÙŠØ¹Ø¨Ø±ØŒ ÙŠØ®Ø±Ø¬ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ø«Ù… ÙŠØ¹Ø§ÙˆØ¯ Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
    /* Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ù‚Ø§Ø¨Ù„Ø§Ù‹ Ù„Ù„Ø¹ÙƒØ³ Ø¹Ø¨Ø± --dir (1 Ø£Ùˆ -1) */
    #homeTicker { --dir: 1; } /* 1 = ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† ÙˆÙŠØªØ¬Ù‡ Ù„Ù„ÙŠØ³Ø§Ø±ØŒ -1 = ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± */
    @media (max-width: 767px){
      /* Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ: Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¹Ø§ÙƒØ³Ø© */
      #homeTicker { --dir: -1; }
    }
    @media (min-width: 768px){
      /* Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±: Ù†ÙØ³ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¹Ø§ÙƒØ³Ø©) */
      #homeTicker { --dir: -1 !important; }
    }
    
    /* Mobile override to fully match search bar */
    @media (max-width: 600px){
      #homeTicker.notice-ticker{
        margin:8px 8px 10px;
        padding:10px 12px;
        border-radius:25px;
        border:2px solid var(--input-border);
        background: var(--input-bg);
        color: var(--input-text);
        font-size:1rem;
        line-height:1.2;
        --fadeWidth: 28px;
      }
      #homeTicker.notice-ticker span{ font-size:1rem }
    }
    @keyframes marquee-single {
      0%   { transform: translate3d(var(--start, 100%), 0, 0); }
      5%   { transform: translate3d(var(--start, 100%), 0, 0); }
      95%  { transform: translate3d(var(--end, -100%), 0, 0); }
      100% { transform: translate3d(var(--end, -100%), 0, 0); }
    }
  </style>
</head>
  <body>

<div id="headerContainer"></div>
<div id="sidebarContainer"></div>

<!-- Ø¹Ù†ÙˆØ§Ù† Ø¯Ù„Ø§Ù„ÙŠ ÙˆØ§Ø¶Ø­ Ù„Ù„Ù…Ø­Ø±ÙƒØ§Øª -->
<h1 class="sr-only">Ù…ØªØ¬Ø± Ù‚ØµÙŠ | Ù…ØªØ¬Ø± Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù†</h1>

<style>
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
</style>


<div style="height:70px;"></div>

    <div class="page-hero">
      <img src="https://i.ibb.co/TBh1qpzV/1757616222968.jpg" alt="Ø¨Ø§Ù†Ø± ØªØ±Ø­ÙŠØ¨ÙŠ" loading="eager" decoding="async" fetchpriority="high">
    </div>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±: ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©ØŒ ÙŠØ®Ø±Ø¬ ØªÙ…Ø§Ù…Ù‹Ø§ØŒ Ø«Ù… ÙŠØ¹Ø§ÙˆØ¯ Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
  <div class="notice-ticker" id="homeTicker" aria-label="Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹">
    <div class="ticker-track" role="marquee" aria-live="polite">
      <div class="ticker-copy">
        <span>Ù…ØªØ¬Ø± Ù‚ØµÙŠ | Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù† ÙˆØ¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</span>
      </div>
    </div>
  </div>
  


    <!-- Ø§Ù„Ø¨Ø­Ø« -->
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø£Ùˆ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª..." aria-label="Ø¨Ø­Ø«" />
  </div>

  <script>
    // Ø­Ø±ÙƒØ© ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø­Ø§ÙØ©ØŒ ØªÙ…Ø± Ø¹Ø¨Ø± Ø§Ù„Ø´Ø±ÙŠØ·ØŒ ØªØ®Ø±Ø¬ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ø«Ù… ØªØ¹Ø§ÙˆØ¯ Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    (function(){
      var ticker = document.getElementById('homeTicker');
      var track  = ticker && ticker.querySelector('.ticker-track');
      var one    = track && track.querySelector('.ticker-copy');
      if(!ticker || !track || !one) return;

      var SPEED = 80; // Ø¨ÙƒØ³Ù„/Ø«Ø§Ù†ÙŠØ©
      var rafId = 0;

      function parseDir(){
        var d = 1;
        try{
          var v = getComputedStyle(ticker).getPropertyValue('--dir').trim();
          if (v) d = parseFloat(v) || 1;
          d = d >= 0 ? 1 : -1;
        }catch(e){}
        return d;
      }

      function px(v){
        if (!v) return 0;
        var n = parseFloat(String(v).replace('px','').trim());
        return isFinite(n) ? n : 0;
      }

      function apply(cw, ow, dir){
        if (!cw || !ow) return;
        // Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ø¹Ø±Ø¶ Ø·Ø¨Ù‚Ø© Ø§Ù„ØªÙ„Ø§Ø´ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø·Ø±Ø§ÙØŒ ÙˆÙŠØ®ØªÙ„Ù Ø¨ÙŠÙ† Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±
        var styles = getComputedStyle(ticker);
        var fade   = px(styles.getPropertyValue('--fadeWidth'));
        var pad    = 2; // Ù‡Ø§Ù…Ø´ Ø£Ù…Ø§Ù† ØµØºÙŠØ± Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø®Ø±ÙˆØ¬ Ø§Ù„ÙƒØ§Ù…Ù„
        var start  = dir * (cw + fade + pad);   // Ø®Ø§Ø±Ø¬ Ø§Ù„Ø­Ø§ÙØ© ÙÙŠ Ø¬Ù‡Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        var end    = -dir * (ow + fade + pad);  // Ø®Ø§Ø±Ø¬ Ø§Ù„Ø­Ø§ÙØ© ÙÙŠ Ø¬Ù‡Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
        var dist   = cw + ow + (2 * fade) + (2 * pad); // Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ù…Ù‚Ø·ÙˆØ¹Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©
        var dur   = (dist / SPEED).toFixed(2) + 's';
        track.style.setProperty('--start', start + 'px');
        track.style.setProperty('--end',   end   + 'px');
        track.style.setProperty('--dur',   dur);
      }

      function measure(){
        cancelAnimationFrame(rafId);
        rafId = requestAnimationFrame(function(){
          // Ù‚ÙŠØ§Ø³Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©
          var cw  = ticker.clientWidth;    // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§ÙˆÙŠØ© (ÙŠØªØ¨Ø¯Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±)
          var ow  = one.scrollWidth;       // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
          var dir = parseDir();
          apply(cw, ow, dir);
        });
      }

      // Ù‚ÙŠØ§Ø³ Ø£ÙˆÙ„ÙŠ
      measure();

      // Ø£Ø¹ÙØ¯ Ø§Ù„Ù‚ÙŠØ§Ø³ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ·/Ø§Ù„ØµÙˆØ± Ù„Ø¶Ù…Ø§Ù† Ø«Ø¨Ø§Øª Ø§Ù„Ø¹Ø±Ø¶
      if (document.fonts && document.fonts.ready) {
        document.fonts.ready.then(measure).catch(function(){});
      }
      window.addEventListener('load', measure, { once:true });
      window.addEventListener('resize', measure);

      // Ø±Ø§Ù‚Ø¨ ØªØºÙŠÙ‘Ø± Ø§Ù„Ø­Ø¬Ù… Ù„Ù„Ù…Ø­ØªÙˆÙ‰ Ù†ÙØ³Ù‡
      if (typeof ResizeObserver !== 'undefined'){
        var ro = new ResizeObserver(measure);
        ro.observe(one);
      }
    })();
  </script>

<main>
  <section class="categories" id="categoriesContainer">
    <a href="games.html" class="card loading" data-title="Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨">
      <img src="https://i.ibb.co/1GYPyKMj/1447-02-27-23-46-21-df66c84f.jpg" alt="Ø£Ù„Ø¹Ø§Ø¨" loading="lazy" decoding="async" fetchpriority="high" />
      <h2>Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</h2>
    </a>
    <a href="social.html" class="card loading" data-title="Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ">
      <img src="https://i.ibb.co/Vcq1dr69/1756157590278.jpg" alt="Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ" loading="lazy" decoding="async" fetchpriority="high" />
      <h2>Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„</h2>
    </a>
    <a href="software.html" class="card loading" data-title="Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬">
      <img src="https://i.ibb.co/XZHyMGSG/1756247096045.jpg" alt="Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬" loading="lazy" decoding="async" fetchpriority="high" />
      <h2>Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬</h2>
    </a>

  </section>
  <p class="no-results" id="noResults" style="display:none;">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬.</p>
  
  <!-- Inline page content container -->
  <div id="inlinePage" style="display:none"></div>
</main>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script>
    (function(){
      try{
        var KEY='global:loadTimes';
        var now=Date.now();
        var arr=[]; try{arr=JSON.parse(localStorage.getItem(KEY)||'[]')}catch(e){arr=[]}
        if(!Array.isArray(arr)) arr=[];
        arr=arr.filter(function(t){return typeof t==='number' && (now-t)<10000;});
        arr.push(now);
        try{localStorage.setItem(KEY, JSON.stringify(arr.slice(-10)));}catch(_){ }
        window.__SKIP_FIREBASE__=(arr.length>=3);
        if(window.__SKIP_FIREBASE__ && typeof firebase!=='undefined'){
          try{
            var noOp=function(){};
            function stubDoc(){ return { get:function(){ return Promise.resolve({exists:false,data:function(){return {};},id:''}); }, set:function(){ return Promise.resolve(); }, update:function(){ return Promise.resolve(); }, onSnapshot:function(){ return noOp; } }; }
            function stubCol(){ return { doc:function(){ return stubDoc(); }, where:function(){ return stubCol(); }, orderBy:function(){ return stubCol(); }, limit:function(){ return stubCol(); }, get:function(){ return Promise.resolve({ empty:true, forEach:noOp, docs:[] }); }, onSnapshot:function(){ return noOp; } }; }
            var stubDb={ collection:function(){ return stubCol(); }, doc:function(){ return stubDoc(); } };
            try{ window.__ORIG_FIREBASE__ = { auth: firebase.auth, firestore: firebase.firestore }; }catch(_){ }
            
            firebase.firestore = function(){ return stubDb; };
          }catch(_){ }
        }
      }catch(_){ window.__SKIP_FIREBASE__ = false; }
    })();
  </script>
    <script>
  (function(){
    function applyCardState(card, state){
      var finalState = (state == null) ? 'on' : state;
      var titleEl = card.querySelector ? card.querySelector('h2') : null;
      var img = card.querySelector ? card.querySelector('img') : null;
      try{ card.classList.remove('loading'); }catch(_){ }
      if (finalState === 'off'){
        if (img){ try{ img.setAttribute('loading','eager'); img.setAttribute('decoding','sync'); img.setAttribute('fetchpriority','high'); }catch(_){ } }
        try{ card.classList.add('maintenance'); card.classList.remove('pending-state'); }catch(_){ }
        try{ card.removeAttribute('href'); }catch(_){ }
        if (titleEl){ try{ titleEl.textContent = 'ğŸš§ Ù…ØºÙ„Ù‚ Ù„Ù„ØµÙŠØ§Ù†Ø©'; }catch(_){ } }
      } else {
        try{
          if (card.dataset && card.dataset.originalHref){ card.setAttribute('href', card.dataset.originalHref); }
          card.classList.remove('maintenance','pending-state');
          if (titleEl && card.dataset && card.dataset.originalTitle){ titleEl.textContent = card.dataset.originalTitle; }
        }catch(_){ }
      }
    }
    function prepCard(card){
      try{
        if (!card.dataset.originalHref){ var href = card.getAttribute('href'); if (href) card.dataset.originalHref = href; }
        var t = card.querySelector && card.querySelector('h2');
        if (t && !card.dataset.originalTitle){ card.dataset.originalTitle = t.textContent || ''; }
      }catch(_){ }
    }
    function getPageNameFromCard(card){
      try{
        var href = (card.dataset && card.dataset.originalHref) || card.getAttribute('href') || '';
        href = href.split('?')[0].split('#')[0];
        return href.replace(/\.html$/,'');
      }catch(_){ return ''; }
    }
    var STATES_TTL_MS = 5*60*1000;
    var STATES_CACHE_KEY = 'statesCache';
    function saveStatesCache(map){ try{ localStorage.setItem(STATES_CACHE_KEY, JSON.stringify({ savedAt: Date.now(), map: map||{} })); }catch(_){ } }
    function readStatesCache(ignoreTTL){
      try{
        var raw = localStorage.getItem(STATES_CACHE_KEY);
        if(!raw) return null;
        var obj; try{ obj = JSON.parse(raw); }catch(_){ obj=null; }
        if (obj && typeof obj === 'object'){
          if(!ignoreTTL){ var now = Date.now(); if(obj.savedAt && (now-obj.savedAt)>STATES_TTL_MS){ /* expired */ } }
          if (obj.map && typeof obj.map === 'object') return obj.map;
          if (typeof obj.stateJson === 'string'){ try{ var m=JSON.parse(obj.stateJson); if(m && typeof m==='object') return m; }catch(_){ } }
          var vals = Object.values(obj); if (vals.length && vals.every(function(v){return v==='on'||v==='off';})) return obj;
        }
        try{ var m2 = JSON.parse(raw); if (m2 && typeof m2==='object') return m2; }catch(_){ }
        return null;
      }catch(_){ return null; }
    }
    function parseStatesDoc(data){
      var map = {};
      try{
        if (typeof data.stateJson === 'string') { map = JSON.parse(data.stateJson)||{}; }
        else if (data.map && typeof data.map==='object'){ map = data.map; }
        else { map = data||{}; }
      }catch(_){ map = {}; }
      return map;
    }
    async function loadStatesMap(){
      try{
        if (typeof firebase==='undefined' || !firebase.firestore) return null;
        var ref = firebase.firestore().collection('config').doc('states');
        var snap = await ref.get({ source:'server' }).catch(function(){ return ref.get(); });
        if (!snap || !snap.exists) return null;
        var map = parseStatesDoc(snap.data()||{});
        saveStatesCache(map);
        return map;
      }catch(_){ return null; }
    }
    function applyStatesToPage(){
      try{
        var cards = Array.prototype.slice.call(document.querySelectorAll('a.card, .card[href]'));
        if (!cards.length) return;
        cards.forEach(prepCard);

        // Ø£Ø¶Ù Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¤Ù‚ØªÙ‹Ø§
        try { cards.forEach(function(card){ card.classList.add('pending-state'); }); } catch(_){ }

      // Ø·Ø¨Ù‘Ù‚ Ø§Ù„ÙƒØ§Ø´ Ø³Ø±ÙŠØ¹Ù‹Ø§ Ø¥Ù† ÙˆØ¬Ø¯
      var cached = null;
      try { cached = readStatesCache(window.__SKIP_FIREBASE__ ? true : false); } catch(_) { cached = null; }
      if (cached && typeof cached === 'object'){
        cards.forEach(function(card){
          var name = getPageNameFromCard(card);
          var s = (name && Object.prototype.hasOwnProperty.call(cached, name)) ? cached[name] : 'on';
          // Ø¥Ù† ÙƒØ§Ù†Øª Ø§Ù„Ø­Ø§Ù„Ø© Ù…ØºÙ„Ù‚Ø© Ø·Ø¨Ù‚Ù‡Ø§ ÙÙˆØ±Ù‹Ø§ØŒ ÙˆØ¥Ù„Ø§ Ø§ØªØ±Ùƒ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø­ØªÙ‰ ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¨ÙƒØ© Ø£Ùˆ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù„Ø©
          if (s === 'off') applyCardState(card, 'off');
        });
        // Ù…Ù‡Ù„Ø© Ø£Ù…Ø§Ù† Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø¥Ù† Ù„Ù… ØªØµÙ„ Ø§Ù„Ø´Ø¨ÙƒØ© Ø³Ø±ÙŠØ¹Ù‹Ø§
        setTimeout(function(){ cards.forEach(function(card){ if (card.classList.contains('pending-state')) applyCardState(card, 'on'); }); }, 1200);
      } else {
        // Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒØ§Ø´: Ù„Ø§ ØªØªØ±Ùƒ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø¹Ø§Ù„Ù‚Ø©
        setTimeout(function(){ cards.forEach(function(card){ applyCardState(card, 'on'); }); }, 800);
      }

        // Ø¥Ù† Ù„Ù… Ù†ÙƒÙ† ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ®Ø·ÙŠØŒ Ø­Ù…Ù‘Ù„ Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ­Ø¯Ø« Ø§Ù„Ø­Ø§Ù„Ø© Ù„Ø§Ø­Ù‚Ù‹Ø§ (ÙˆÙŠÙÙ†Ù‡ÙŠ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù†)
        if (!window.__SKIP_FIREBASE__){
          loadStatesMap().then(function(result){
            var map = (result && result.map) ? result.map : result;
            map = map || readStatesCache(false) || {};
            cards.forEach(function(card){
              var name = getPageNameFromCard(card);
              var s = (name && map && Object.prototype.hasOwnProperty.call(map, name)) ? map[name] : 'on';
              applyCardState(card, s);
            });
          }).catch(function(){ /* ØªØ¬Ø§Ù‡Ù„ */ });
        }
      }catch(_){ }
    }
    if (document.readyState==='loading') document.addEventListener('DOMContentLoaded', applyStatesToPage); else try{ applyStatesToPage(); }catch(_){ }
  })();
  </script>

  <script>
    /* ===== Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø­Ø§Ù„Ø§Øª (Ø¨Ø¯ÙˆÙ† localStorage) ===== */
    function lockAllCards() {
      document.querySelectorAll('.card').forEach(card => {
        // Ø®Ø²Ù‘Ù† href ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø£ØµÙ„ÙŠÙŠÙ†
        if (!card.dataset.originalHref) {
          const href = card.getAttribute('href');
          if (href) card.dataset.originalHref = href;
        }
        const titleEl = card.querySelector('h2');
        if (!card.dataset.originalTitle && titleEl) card.dataset.originalTitle = titleEl.textContent;

        // âœ… Ø£Ø²Ù„ Ø£ÙŠ Ø¥Ø®ÙØ§Ø¡ Ø¨ØµØ±ÙŠ Ù„Ù„ØµÙˆØ± Ù…Ø¨ÙƒØ±Ù‹Ø§
        card.classList.remove('loading');

        // Ù‚ÙÙ„ ÙÙˆØ±ÙŠ
        card.removeAttribute('href');
        card.classList.add('pending-state');
      });
    }
    function applyCardState(card, state) {
      const finalState = (state === undefined || state === null) ? 'on' : state;
      const titleEl = card.querySelector('h2');
      const img = card.querySelector('img');

      // Ø£Ø²Ù„ Ø£ÙŠ Ø¥Ø®ÙØ§Ø¡ Ø¨ØµØ±ÙŠ
      card.classList.remove('loading');

      if (finalState === 'off') {
        // âœ… Ø§Ø¬Ø¹Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØºÙ„Ù‚Ø© ØªØ¸Ù‡Ø± ÙÙˆØ±Ù‹Ø§
        if (img) {
          img.setAttribute('loading', 'eager');
          img.setAttribute('decoding', 'sync');
          img.setAttribute('fetchpriority', 'high');
        }
        card.classList.add('maintenance');
        card.classList.remove('pending-state');
        card.removeAttribute('href');
        if (titleEl) titleEl.textContent = 'ğŸš§ Ù…ØºÙ„Ù‚ Ù„Ù„ØµÙŠØ§Ù†Ø©';
      } else {
        if (card.dataset.originalHref) card.setAttribute('href', card.dataset.originalHref);
        card.classList.remove('maintenance','pending-state');
        if (titleEl && card.dataset.originalTitle) titleEl.textContent = card.dataset.originalTitle;
      }
    }

    function generateAuthKey() {
      const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
      let key = '';
      for (let i = 0; i < 36; i++) key += chars.charAt(Math.floor(Math.random() * chars.length));
      return key;
    }

    // Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyB6dC1UAS0-ilt-dj9UpcLIPljwbI3FCZs",
      authDomain: "qusaystore-ec327.firebaseapp.com",
      projectId: "qusaystore-ec327",
      storageBucket: "qusaystore-ec327.firebasestorage.app",
      messagingSenderId: "701743074708",
      appId: "1:701743074708:web:defc2de594567b6624d381",
      measurementId: "G-00R4XQCB1V"
    };
    let auth = null;
    let db = null;
    let firebaseReady = typeof firebase !== 'undefined' && firebase && typeof firebase.initializeApp === 'function';

    if (firebaseReady) {
      try {
        if (!firebase.apps || !firebase.apps.length) {
          firebase.initializeApp(firebaseConfig);
        } else {
          firebase.app();
        }
        auth = typeof firebase.auth === 'function' ? firebase.auth() : null;
        db = typeof firebase.firestore === 'function' ? firebase.firestore() : null;
      } catch (e) {
        console.warn('ØªØ¹Ø°Ø± ØªÙ‡ÙŠØ¦Ø© FirebaseØŒ Ø³ÙŠØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„.', e);
        firebaseReady = false;
        auth = null;
        db = null;
      }
    } else {
      console.warn('Ù…ÙƒØªØ¨Ø© Firebase ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©ØŒ Ø³ÙŠØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„.');
    }

    const firebaseAvailable = firebaseReady && !!auth && !!db;

    // ===== Ø­Ø§Ø±Ø³ Ø·Ù„Ø¨Ø§Øª Firebase: Ù…Ù†Ø¹ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¹Ù†Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ =====
    (function(){
      try {
        const KEY = 'index:loadTimes';
        const now = Date.now();
        let arr = [];
        try { arr = JSON.parse(localStorage.getItem(KEY) || '[]'); } catch(_) { arr = []; }
        if (!Array.isArray(arr)) arr = [];
        // Ø§Ø­ØªÙØ¸ ÙÙ‚Ø· Ø¨Ø§Ù„Ù…Ø¯Ø¯ Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ø®Ù„Ø§Ù„ 10 Ø«ÙˆØ§Ù†Ù
        arr = arr.filter(t => typeof t === 'number' && (now - t) < 10000);
        arr.push(now);
        try { localStorage.setItem(KEY, JSON.stringify(arr.slice(-10))); } catch(_){ }
        // Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ² (>=3) Ø®Ù„Ø§Ù„ 10 Ø«ÙˆØ§Ù†ÙØŒ ÙØ¹Ù‘Ù„ ÙˆØ¶Ø¹ Ø§Ù„ØªØ®Ø·ÙŠ
        window.__SKIP_FIREBASE__ = (arr.length >= 3);
      } catch(_) { window.__SKIP_FIREBASE__ = false; }
    })();
    if (!firebaseAvailable) { window.__SKIP_FIREBASE__ = true; }

    function closeResetModal() { resetModal.style.display = 'none'; }

    if (!window.__SKIP_FIREBASE__ && firebaseAvailable && auth && typeof auth.onAuthStateChanged === "function") auth.onAuthStateChanged(user => {
      if (user) {
        //loadUserBalance(user.uid);
      } else {
        const el = document.getElementById('balanceAmount');
        if (el) el.textContent = 'ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§ÙˆÙ„Ø§';
      }
    });

    if (!window.__SKIP_FIREBASE__ && firebaseAvailable && auth && typeof auth.onAuthStateChanged === "function") auth.onAuthStateChanged(async (user) => {
      if (user) {
        const userRef = db.collection('users').doc(user.uid);
        const docSnap = await userRef.get();

        if (docSnap.exists) {
          const data = docSnap.data();

          // ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¸Ø± Ù„ØªØ­Ø³ÙŠÙ† Ø³Ø±Ø¹Ø© Ø§Ù„ØªØ¬Ø±Ø¨Ø© ÙˆØ¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­ÙˆØ§Ø¬Ø²

          if (!data.authkey) {
            const authkey = generateAuthKey();
            await userRef.set({ authkey }, { merge: true });
          }

          // ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ù…Ø·Ø§Ù„Ø¨Ø© Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
        }
      } else {
        const el = document.getElementById('balanceAmount');
        if (el) el.textContent = 'ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§ÙˆÙ„Ø§';
      }
    });

    /* ===== ØªØ³Ø±ÙŠØ¹ ÙˆÙ…Ù†Ø¹ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„Ø¯Ø®ÙˆÙ„ ===== */
    // Ø­Ù…Ù„ Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ù…Ù† ÙˆØ«ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø© Ø¨ØµÙŠØºØ© JSON Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª
    const STATES_TTL_MS = 5 * 60 * 1000; // Ù…Ø¯Ø© ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ø¹Ø§Ø¯ÙŠ (5 Ø¯Ù‚Ø§Ø¦Ù‚)
    const STATES_CACHE_KEY = 'statesCache';

    function saveStatesCache(map){
      try { localStorage.setItem(STATES_CACHE_KEY, JSON.stringify({ savedAt: Date.now(), map: map||{} })); } catch(_){}
    }
    function readStatesCache(ignoreTTL){
      try{
        const raw = localStorage.getItem(STATES_CACHE_KEY);
        if(!raw) return null;
        let obj;
        try { obj = JSON.parse(raw); } catch(_) { obj = null; }
        // Ø¯Ø¹Ù… ØµÙŠØº Ù‚Ø¯ÙŠÙ…Ø©/Ù…ØªÙ†ÙˆØ¹Ø©
        if (obj && typeof obj === 'object'){
          // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ù‡Ù„Ø© Ø§Ù„ÙƒØ§Ø´ Ø¥Ù† Ù„Ø²Ù…
          if(!ignoreTTL){
            const now = Date.now();
            if(obj.savedAt && (now - obj.savedAt) > STATES_TTL_MS){ /* Ù…Ù†ØªÙ‡ÙŠ */ }
          }
          if (obj.map && typeof obj.map === 'object') return obj.map;
          if (typeof obj.stateJson === 'string'){
            try{ const m = JSON.parse(obj.stateJson); if(m && typeof m==='object') return m; }catch(_){ }
          }
          // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙƒØ§Ø¦Ù† Ù†ÙØ³Ù‡ ÙŠØ¨Ø¯Ùˆ Ø®Ø±ÙŠØ·Ø© Ø­Ø§Ù„Ø§Øª (Ù‚ÙŠÙ… on/off)
          const vals = Object.values(obj);
          if (vals.length && vals.every(v => v === 'on' || v === 'off')) return obj;
        }
        // Ø±Ø¨Ù…Ø§ Ø®Ø²Ù‘Ù† ÙƒÙ†Øµ Ù„Ù„Ø®Ø±ÙŠØ·Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
        try{
          const m2 = JSON.parse(raw);
          if (m2 && typeof m2 === 'object') return m2;
        }catch(_){ }
        return null;
      }catch(_){ return null; }
    }
    async function loadStatesMap() {
      if (!firebaseAvailable || !db || typeof db.collection !== 'function') { return { map: {}, fromCache: true }; }
      const ref = db.collection('config').doc('states');
      const tryGet = async () => {
        try { return await ref.get({ source: 'server' }); } catch(_) { return await ref.get(); }
      };
      try {
        let doc = await tryGet();
        if (!doc.exists) throw new Error('not-found');
        const data = doc.data() || {};
        let map = {};
        if (typeof data.stateJson === 'string') {
          try { map = JSON.parse(data.stateJson); } catch(_) { map = {}; }
        } else if (data.map && typeof data.map === 'object') {
          map = data.map;
        } else {
          map = data;
        }
        // Ø®Ø²ÙÙ‘Ù† ÙÙŠ Ø§Ù„ÙƒØ§Ø´ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¹Ù†Ø¯ Ø­Ø¸Ø± Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª
        try { saveStatesCache(map); } catch(_){}
        return { map, fromCache: false };
      } catch (e) {
        // Ø¥Ù† ÙƒØ§Ù†Øª Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª ØªÙ…Ù†Ø¹ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©ØŒ ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¬Ù‡ÙˆÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
        try {
          var ENABLE_ANON = false; // Ø¹Ø·Ù‘ÙÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ Ù„ØªØ¬Ù†Ù‘Ø¨ Ø£Ø®Ø·Ø§Ø¡ 400
          if (ENABLE_ANON && e && e.code === 'permission-denied' && auth && !auth.currentUser && auth.signInAnonymously) {
            await auth.signInAnonymously();
            const doc = await tryGet();
            if (doc && doc.exists) {
              const data = doc.data() || {};
              let map = {};
              if (typeof data.stateJson === 'string') { try { map = JSON.parse(data.stateJson); } catch(_) { map = {}; } }
              else if (data.map && typeof data.map === 'object') { map = data.map; }
              else { map = data; }
              try { saveStatesCache(map); } catch(_){}
              return { map, fromCache: false };
            }
          }
        } catch(_) { /* ØªØ¬Ø§Ù‡Ù„ */ }
        return { map: {}, fromCache: true };
      }
    }

    function applyCardsVisibility() {
      const cards = document.querySelectorAll('.card');
      // Ø£Ø¶Ù Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¤Ù‚ØªÙ‹Ø§
      cards.forEach(card => {
        if (!card.dataset.originalHref) {
          const href = card.getAttribute('href');
          if (href) card.dataset.originalHref = href;
        }
        const titleEl = card.querySelector('h2');
        if (!card.dataset.originalTitle && titleEl) {
          card.dataset.originalTitle = titleEl.textContent;
        }
        card.classList.add('pending-state');
      });

      // Ø·Ø¨Ù‘Ù‚ Ø§Ù„ÙƒØ§Ø´ Ø¥Ù† ÙˆØ¬Ø¯
      let cached = null;
      try { cached = readStatesCache(window.__SKIP_FIREBASE__ ? true : false); } catch(_) { cached = null; }
      if (cached && typeof cached === 'object') {
        cards.forEach(card => {
          const pageName = (card.dataset.originalHref || card.getAttribute('href') || '').replace('.html','');
          const state = Object.prototype.hasOwnProperty.call(cached, pageName) ? cached[pageName] : 'on';
          // Ø·Ø¨Ù‘Ù‚ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ ÙÙ‚Ø· ÙÙˆØ±Ù‹Ø§ØŒ ÙˆØ§ØªØ±Ùƒ Ø§Ù„ÙØªØ­ Ø¥Ù„Ù‰ Ø­ÙŠÙ† Ø±Ø¯ Ø§Ù„Ø´Ø¨ÙƒØ© Ø£Ùˆ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù„Ø©
          if (state === 'off') applyCardState(card, 'off');
        });
        // Ù…Ù‡Ù„Ø© Ø£Ù…Ø§Ù† Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø¥Ù† Ù„Ù… ØªØµÙ„ Ø§Ù„Ø´Ø¨ÙƒØ© Ø³Ø±ÙŠØ¹Ù‹Ø§
        setTimeout(() => { cards.forEach(card => { if (card.classList.contains('pending-state')) applyCardState(card, 'on'); }); }, 1200);
      } else {
        // Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒØ§Ø´: Ù„Ø§ ØªØªØ±Ùƒ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ø¹Ø§Ù„Ù‚Ø©
        setTimeout(() => { cards.forEach(card => applyCardState(card, 'on')); }, 800);
      }

      // Ø¥Ø°Ø§ ÙƒÙ†Ø§ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ®Ø·ÙŠ Ù„Ø§ Ù†Ù‚Ø±Ø£ Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ©
      if (window.__SKIP_FIREBASE__) return;

      // Ø­Ø¯Ù‘Ø« Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ø§Ø­Ù‚Ù‹Ø§ (ÙˆÙŠÙÙ†Ù‡ÙŠ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù†)
      loadStatesMap()
        .then(result => {
          const map = (result && result.map) ? result.map : (readStatesCache(false) || {});
          const resolved = map || {};
          cards.forEach(card => {
            const pageName = (card.dataset.originalHref || card.getAttribute('href') || '').replace('.html','');
            const state = Object.prototype.hasOwnProperty.call(resolved, pageName) ? resolved[pageName] : 'on';
            applyCardState(card, state);
          });
        })
        .catch(() => { /* ØªØ¬Ø§Ù‡Ù„ */ });
    }

    // Ø§Ø¨Ø¯Ø£ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¯ÙˆÙ† Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
    applyCardsVisibility();

    // ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ â€” Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø·Ù„Ø¨Ù‡

    // ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø¨Ø§Ù†Ø± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ

    // ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ù†Ø§ÙØ°Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ

    // ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø­ÙØ¸ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ

    // ØªÙˆØ§ÙÙ‚ Ù‚Ø¯ÙŠÙ… Ù„Ù„Ø«ÙŠÙ…
    document.addEventListener('DOMContentLoaded', function () {
      var isDark = document.documentElement.getAttribute('data-theme') === 'dark';
      document.body.classList.toggle('dark-mode', isDark);

      // Ø§Ù„Ø¨Ø­Ø« + Ø§Ù„ÙÙ„ØªØ±Ø©
      const input = document.getElementById('searchInput');
      const grid = document.getElementById('categoriesContainer');
      const noResults = document.getElementById('noResults');
      if(!input || !grid) return;

      const norm = s => (s||'').toString().toLowerCase()
        .replace(/[ÙÙ‹ÙÙŒÙÙÙ’Ù‘Ù€]/g,'')
        .replace(/[Ø¥Ø£Ø¢Ø§]/g,'Ø§')
        .replace(/Ù‰/g,'ÙŠ')
        .replace(/Ø©/g,'Ù‡')
        .replace(/[^\p{L}\p{N}\s]/gu,'')
        .trim();

      const cards = Array.from(grid.querySelectorAll('.card'));
      function apply(query){
        const q = norm(query);
        let shown = 0;
        cards.forEach(card => {
          const title = card.dataset.title || card.querySelector('h2')?.textContent || '';
          const ok = q === '' || norm(title).includes(q);
          card.style.display = ok ? '' : 'none';
          if (ok) shown++;
        });
        if (noResults) noResults.style.display = shown ? 'none' : 'block';
      }

      const KEY = 'home:q';
      const saved = localStorage.getItem(KEY) || '';
      if (saved) input.value = saved;
      apply(saved);

      // Ø§Ù„Ø²Ø± Ù…Ø­Ø°ÙˆÙØ› Ù†Ø¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Enter ÙˆØªØ­Ø¯ÙŠØ« Ø­ÙŠ
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') { e.preventDefault(); localStorage.setItem(KEY, input.value); apply(input.value); }
      });
      let t;
      input.addEventListener('input', () => { clearTimeout(t); t = setTimeout(() => apply(input.value), 150); });

      // Ø¹Ù„Ù‘Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø© Ø£Ù†Ù‡Ø§ ØªÙ…Øª Ù…Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
      document.addEventListener('click', function(e){
        const a = e.target.closest('a[href$=".html"]');
        if (a) { try { sessionStorage.setItem('nav:fromHome','1'); } catch(e){} }
      });
    });
  </script>
  <!-- ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ù…Ø§Ø³Ø­ ØµÙØ­Ø§Øª HTML: Ø£ØµØ¨Ø­ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³Ø¨Ù‚ Ù„Ù„ØµÙˆØ± Ø¹Ø¨Ø± Service Worker ÙÙ‚Ø· -->
  
  <!-- Inline loader for games/social/software without redirect -->
  <script>
    (function(){
      var routes = {
        'games':         { url: 'games.html',         title: 'Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨' },
        'social':        { url: 'social.html',        title: 'Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„' },
        'software':      { url: 'software.html',      title: 'Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬' },
        'freefireinbut': { url: 'freefireinbut.html', title: 'ÙØ±ÙŠ ÙØ§ÙŠØ±' }
      };

      var home = {
        hero: function(){ return document.querySelector('.page-hero'); },
        ticker: function(){ return document.getElementById('homeTicker'); },
        homeSearch: function(){ return document.querySelector('body > .search-container'); },
        grid: function(){ return document.getElementById('categoriesContainer'); },
        noResults: function(){ return document.getElementById('noResults'); },
        support: function(){ return document.querySelector('.support-section'); },
        rights: function(){ return document.querySelector('.support-rights'); }
      };
      var inlineBox = document.getElementById('inlinePage');

      function show(el, v){ if(!el) return; el.style.display = v ? '' : 'none'; }
      function clear(el){ if(!el) return; while(el.firstChild) el.removeChild(el.firstChild); }
      function scrollTop(){ try{ window.scrollTo({ top:0, behavior:'smooth' }); }catch(_){ window.scrollTo(0,0); } }

      function buildToolbar(title){
        var bar = document.createElement('div');
        bar.className = 'inline-toolbar';
        var back = document.createElement('button'); back.className='inline-back'; back.textContent='Ø±Ø¬ÙˆØ¹'; back.addEventListener('click', function(){ navigateHome(); });
        var t = document.createElement('div'); t.className='inline-title'; t.textContent = title||'';
        bar.appendChild(back); bar.appendChild(t);
        return bar;
      }

      function extractContent(html){
        var doc = new DOMParser().parseFromString(html, 'text/html');
        var sc = doc.querySelector('.search-container');
        var main = doc.querySelector('main');
        var cats = main ? main.querySelector('.categories') : null;
        var frag = document.createDocumentFragment();
        if (sc) frag.appendChild(sc.cloneNode(true));
        if (cats){
          var wrap = document.createElement('div');
          wrap.appendChild(cats.cloneNode(true));
          var p = document.createElement('p'); p.className='no-results'; p.id='inlineNoResults'; p.textContent='Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬.'; p.style.display='none';
          wrap.appendChild(p);
          frag.appendChild(wrap);
          return frag;
        }
        if (main){
          Array.prototype.forEach.call(main.childNodes, function(n){ frag.appendChild(n.cloneNode(true)); });
          return frag;
        }
        var body = doc.body;
        if (body){ Array.prototype.forEach.call(body.childNodes, function(n){ frag.appendChild(n.cloneNode(true)); }); }
        return frag;
      }

      function attachSearchBehavior(container){
        try{
          var input = container.querySelector('.search-container input');
          var grid = container.querySelector('.categories');
          var noResults = container.querySelector('#inlineNoResults');
          if(!input || !grid) return;
          var cards = Array.prototype.slice.call(grid.querySelectorAll('.card'));
          function norm(s){ return (s||'').toString().toLowerCase()
            .replace(/[ÙÙ‹ÙÙŒÙÙÙ’Ù‘Ù€]/g,'')
            .replace(/[Ø¥Ø£Ø¢Ø§]/g,'Ø§')
            .replace(/Ù‰/g,'ÙŠ')
            .replace(/Ø©/g,'Ù‡')
            .replace(/[^\p{L}\p{N}\s]/gu,'')
            .trim(); }
          function apply(q){
            var nq = norm(q), shown = 0;
            cards.forEach(function(card){
              var titleEl = card.querySelector('h2');
              var title = (card.dataset && card.dataset.title) || (titleEl ? titleEl.textContent : '') || '';
              var ok = nq === '' || norm(title).includes(nq);
              card.style.display = ok ? '' : 'none';
              if (ok) shown++;
            });
            if (noResults) noResults.style.display = shown ? 'none' : 'block';
          }
          input.addEventListener('keydown', function(e){ if(e.key==='Enter'){ e.preventDefault(); apply(input.value); } });
          var t; input.addEventListener('input', function(){ clearTimeout(t); t=setTimeout(function(){ apply(input.value); }, 150); });
        }catch(_){ }
      }

      function updateViewForInline(showInline){
        show(home.hero(), !showInline);
        show(home.ticker(), !showInline);
        show(home.homeSearch(), !showInline);
        show(home.grid(), !showInline);
        show(home.noResults(), false);
        show(inlineBox, showInline);
        // Keep footer (support + rights) visible even in inline view
        show(home.support(), true);
        show(home.rights(), true);
      }

      // Fallback templates in case fetch fails (kept minimal to avoid duplication)
      var TEMPLATES = {
        games:
          '<div class="search-container">\n' +
            '<input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø£Ùˆ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª..." aria-label="Ø¨Ø­Ø«" />\n' +
          '</div>\n' +
          '<section class="categories">\n' +
            '<a href="freefireinbut.html" class="card auto" data-title="ÙØ±ÙŠ ÙØ§ÙŠØ±">\n' +
              '<img src="https://i.ibb.co/Lz2rDsgr/1756331102734.jpg" alt="ÙØ±ÙŠ ÙØ§ÙŠØ±"/>\n' +
              '<h2>ÙØ±ÙŠ ÙØ§ÙŠØ±</h2>\n' +
            '</a>\n' +
            '<a href="pubg.html" class="card auto" data-title="Ø¨Ø¨Ø¬ÙŠ">\n' +
              '<img src="https://i.ibb.co/wFvwLZZR/1756330901302.jpg" alt="Ø¨Ø¨Ø¬ÙŠ"/>\n' +
              '<h2>Ø¨Ø¨Ø¬ÙŠ</h2>\n' +
            '</a>\n' +
            '<a href="jawaker.html" class="card auto" data-title="Ø¬ÙˆØ§ÙƒØ±">\n' +
              '<img src="https://i.ibb.co/N6NmR9qr/1756415248251.jpg" alt="Ø¬ÙˆØ§ÙƒØ±"/>\n' +
              '<h2>Ø¬ÙˆØ§ÙƒØ±</h2>\n' +
            '</a>\n' +
            '<a href="yala.html" class="card" data-title="ÙŠÙ„Ø§ Ù„ÙˆØ¯Ùˆ">\n' +
              '<img src="https://i.ibb.co/HpDvMDry/1756415249784.jpg" alt="ÙŠÙ„Ø§ Ù„ÙˆØ¯Ùˆ"/>\n' +
              '<h2>ÙŠÙ„Ø§ Ù„ÙˆØ¯Ùˆ</h2>\n' +
            '</a>\n' +
            '<a href="mobailleg.html" class="card" data-title="Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„ÙŠØ¬Ù†Ø¯">\n' +
              '<img src="https://i.ibb.co/xt399t27/1756424103296.jpg" alt="Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„ÙŠØ¬Ù†Ø¯"/>\n' +
              '<h2>Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„ÙŠØ¬Ù†Ø¯</h2>\n' +
            '</a>\n' +
            '<a href="8ball.html" class="card" data-title="Ø¨Ù„ÙŠØ§Ø±Ø¯Ùˆ">\n' +
              '<img src="https://i.ibb.co/SXdhVf8r/1756424101725.jpg" alt="Ø¨Ù„ÙŠØ§Ø±Ø¯Ùˆ"/>\n' +
              '<h2>Ø¨Ù„ÙŠØ§Ø±Ø¯Ùˆ</h2>\n' +
            '</a>\n' +
            '<a href="weplay.html" class="card" data-title="ÙˆÙŠ Ø¨Ù„Ø§ÙŠ">\n' +
              '<img src="https://i.ibb.co/hFGnwDYT/1756415246638.jpg" alt="ÙˆÙŠ Ø¨Ù„Ø§ÙŠ"/>\n' +
              '<h2>ÙˆÙŠ Ø¨Ù„Ø§ÙŠ</h2>\n' +
            '</a>\n' +
            '<a href="bloodstrike.html" class="card" data-title="Ø¨Ù„ÙˆØ¯ Ø³ØªØ±Ø§ÙŠÙƒ">\n' +
              '<img src="https://i.ibb.co/b5VMTNpz/1756415284620.jpg" alt="Ø¨Ù„ÙˆØ¯ Ø³ØªØ±Ø§ÙŠÙƒ"/>\n' +
              '<h2>Ø¨Ù„ÙˆØ¯ Ø³ØªØ±Ø§ÙŠÙƒ</h2>\n' +
            '</a>\n' +
          '</section>',
        social:
          '<div class="search-container">\n' +
            '<input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø£Ùˆ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª..." aria-label="Ø¨Ø­Ø«" />\n' +
          '</div>\n' +
          '<section class="categories">\n' +
            '<a href="instainbut.html" class="card auto featured" data-title="Ø§Ù†Ø³ØªØºØ±Ø§Ù…">\n' +
              '<img src="https://i.ibb.co/FqJS1zsW/IMG-20250915-WA0002.jpg" alt="Ø§Ù†Ø³ØªØºØ±Ø§Ù…"/>\n' +
              '<h2>Ø§Ù†Ø³ØªØºØ±Ø§Ù…</h2>\n' +
            '</a>\n' +
            '<a href="facebook.html" class="card" data-title="ÙÙŠØ³Ø¨ÙˆÙƒ">\n' +
              '<img src="https://i.ibb.co/HJJy62Y/IMG-20250915-WA0005.jpg" alt="ÙÙŠØ³Ø¨ÙˆÙƒ"/>\n' +
              '<h2>ÙÙŠØ³Ø¨ÙˆÙƒ</h2>\n' +
            '</a>\n' +
          '</section>',
        software:
          '<div class="search-container">\n' +
            '<input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø£Ùˆ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª..." aria-label="Ø¨Ø­Ø«" />\n' +
          '</div>\n' +
          '<section class="categories">\n' +
            '<a href="canva.html" class="card" data-title="ÙƒØ§Ù†ÙØ§">\n' +
              '<img src="https://i.ibb.co/Zzc6JLS5/IMG-20250915-WA0001.jpg" alt="ÙƒØ§Ù†ÙØ§"/>\n' +
              '<h2>ÙƒØ§Ù†ÙØ§</h2>\n' +
            '</a>\n' +
            '<a href="ChatGPT.html" class="card" data-title="ChatGPT Plus">\n' +
              '<img src="https://i.ibb.co/7NXLfsJk/IMG-20250915-WA0004.jpg" alt="ChatGPT Plus"/>\n' +
              '<h2>ChatGPT Plus</h2>\n' +
            '</a>\n' +
          '</section>',
        freefireinbut:
          '<div class="search-container">\n' +
            '<input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø£Ùˆ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª..." aria-label="Ø¨Ø­Ø«" />\n' +
          '</div>\n' +
          '<section class="categories">\n' +
            '<a href="freefireauto.html" class="card auto featured" data-title="ÙØ±ÙŠ ÙØ§ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ">\n' +
              '<img src="https://i.ibb.co/xKmTvgwS/1756498380860.jpg" alt="ÙØ±ÙŠ ÙØ§ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ"/>\n' +
              '<h2>ÙØ±ÙŠ ÙØ§ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ</h2>\n' +
            '</a>\n' +
            '<a href="freefireN.html" class="card" data-title="ÙØ±ÙŠ ÙØ§ÙŠØ± Ù†ÙŠØ¬ÙŠØ±ÙŠ">\n' +
              '<img src="https://i.ibb.co/0pDbDVsc/1756498704843.jpg" alt="ÙØ±ÙŠ ÙØ§ÙŠØ± Ù†ÙŠØ¬ÙŠØ±ÙŠ"/>\n' +
              '<h2>ÙØ±ÙŠ ÙØ§ÙŠØ± Ù†ÙŠØ¬ÙŠØ±ÙŠ</h2>\n' +
            '</a>\n' +
            '<a href="freefire.html" class="card" data-title="ÙØ±ÙŠ ÙØ§ÙŠØ± ÙŠØ¯ÙˆÙŠ">\n' +
              '<img src="https://i.ibb.co/7xZwmG1F/1756498841823.jpg" alt="ÙØ±ÙŠ ÙØ§ÙŠØ± ÙŠØ¯ÙˆÙŠ"/>\n' +
              '<h2>ÙØ±ÙŠ ÙØ§ÙŠØ± ÙŠØ¯ÙˆÙŠ</h2>\n' +
            '</a>\n' +
            '<a href="freefiremembership.html" class="card" data-title="Ø¹Ø¶ÙˆÙŠØ§Øª ÙØ±ÙŠ ÙØ§ÙŠØ±">\n' +
              '<img src="https://i.ibb.co/TB92Rhdc/IMG-20250915-WA0003.jpg" alt="Ø¹Ø¶ÙˆÙŠØ§Øª ÙØ±ÙŠ ÙØ§ÙŠØ±"/>\n' +
              '<h2>Ø¹Ø¶ÙˆÙŠØ§Øª ÙØ±ÙŠ ÙØ§ÙŠØ±</h2>\n' +
            '</a>\n' +
          '</section>'
      };

      function renderFromTemplate(key){
        var html = TEMPLATES[key];
        if (!html) return null;
        var wrapper = document.createElement('div');
        wrapper.innerHTML = html;
        var frag = document.createDocumentFragment();
        // move children to frag to avoid extra wrapper
        while(wrapper.firstChild){ frag.appendChild(wrapper.firstChild); }
        // add no-results placeholder
        var p = document.createElement('p'); p.className='no-results'; p.id='inlineNoResults'; p.textContent='Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬.'; p.style.display='none';
        frag.appendChild(p);
        return frag;
      }

      async function loadInline(key){
        var r = routes[key]; if(!r) return;
        updateViewForInline(true);
        scrollTop();
        clear(inlineBox);
        // Load inline templates directly (external list files were removed)
        var content = renderFromTemplate(key);
        if (content) {
          inlineBox.appendChild(content);
          try{ if (typeof applyCardsVisibility === 'function') applyCardsVisibility(); }catch(_){ }
          try{ attachSearchBehavior(inlineBox); }catch(_){ }
          // Hide the page loader after inline content is ready (hash navigation)
          try {
            // Clear loader session flags so global guards donâ€™t block hiding
            sessionStorage.removeItem('nav:loader:expected');
            sessionStorage.removeItem('nav:loader:showAt');
          } catch(_){ }
          try {
            // Give layout a tick to settle, then hide smoothly
            requestAnimationFrame(function(){ requestAnimationFrame(function(){
              if (typeof hidePageLoader === 'function') hidePageLoader();
            }); });
          } catch(_){ if (typeof hidePageLoader === 'function') hidePageLoader(); }
        } else {
          var err = document.createElement('div'); err.textContent = 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰ Ù…ØªØ§Ø­ Ø­Ø§Ù„ÙŠØ§Ù‹.'; inlineBox.appendChild(err);
          // Ensure loader never gets stuck even on failure
          try { sessionStorage.removeItem('nav:loader:expected'); sessionStorage.removeItem('nav:loader:showAt'); } catch(_){ }
          try { if (typeof hidePageLoader === 'function') hidePageLoader(); } catch(_){ }
        }
      }

      function navigate(key){
        if(!routes[key]) return;
        if (location.hash !== '#/'+key) { history.pushState({key:key}, '', '#/'+key); }
        try { if (typeof showPageLoader === 'function') showPageLoader(); } catch(_){ }
        loadInline(key);
      }
      function navigateHome(){
        history.pushState({}, '', '#/');
        updateViewForInline(false);
        clear(inlineBox);
        scrollTop();
      }

      function initFromHash(){
        var h = (location.hash||'').replace(/^#\/?/, '');
        if (!h || h === '/') { updateViewForInline(false); return; }
        if (routes[h]) { loadInline(h); }
        else { updateViewForInline(false); }
      }

      window.addEventListener('hashchange', initFromHash);
      window.addEventListener('popstate', initFromHash);

      // Intercept clicks on home cards (handle ?allow=1, hashes, etc.)
      function handleCardNavEvent(e){
        var a = e.target && e.target.closest ? e.target.closest('a.card') : null;
        if (!a) return;
        var href = (a.getAttribute('href')||'').toLowerCase();
        var path = href.split('#')[0].split('?')[0];
        if (path.endsWith('games.html'))          { e.preventDefault(); e.stopPropagation(); try{ e.stopImmediatePropagation(); }catch(_){} navigate('games'); return; }
        if (path.endsWith('social.html'))         { e.preventDefault(); e.stopPropagation(); try{ e.stopImmediatePropagation(); }catch(_){} navigate('social'); return; }
        if (path.endsWith('software.html'))       { e.preventDefault(); e.stopPropagation(); try{ e.stopImmediatePropagation(); }catch(_){} navigate('software'); return; }
        if (path.endsWith('freefireinbut.html'))  { e.preventDefault(); e.stopPropagation(); try{ e.stopImmediatePropagation(); }catch(_){} navigate('freefireinbut'); return; }
      }
      document.addEventListener('pointerdown', handleCardNavEvent, true);
      document.addEventListener('click', handleCardNavEvent, true);

      // Boot from hash if present
      initFromHash();

      // Expose for back button in toolbar
      window.navigateHome = navigateHome;

      // Public helper to reload states with loading animation
      try {
        window.reloadCardsStates = function () {
          try { applyCardsVisibility(); } catch(_){}
          try { applyStatesToPage(); } catch(_){}
        };
      } catch(_){}
    })();
  </script>

</body>
</html>












